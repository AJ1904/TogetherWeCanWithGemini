[debug] [2024-08-04T18:59:14.804Z] ----------------------------------------------------------------------
[debug] [2024-08-04T18:59:14.806Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2024-08-04T18:59:14.806Z] CLI Version:   13.15.0
[debug] [2024-08-04T18:59:14.806Z] Platform:      darwin
[debug] [2024-08-04T18:59:14.807Z] Node Version:  v20.10.0
[debug] [2024-08-04T18:59:14.807Z] Time:          Sun Aug 04 2024 13:59:14 GMT-0500 (Central Daylight Time)
[debug] [2024-08-04T18:59:14.807Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-08-04T18:59:14.843Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-08-04T18:59:14.843Z] > authorizing via signed-in user (ayushrijain19@gmail.com)
[debug] [2024-08-04T18:59:14.843Z] [iam] checking project together-we-can-with-gemini for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-08-04T18:59:14.844Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions [none]
[debug] [2024-08-04T18:59:14.845Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:14.845Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T18:59:15.048Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions 200
[debug] [2024-08-04T18:59:15.049Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T18:59:15.049Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-08-04T18:59:15.049Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-08-04T18:59:15.286Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-08-04T18:59:15.286Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'together-we-can-with-gemini'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-08-04T18:59:15.573Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T18:59:15.771Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T18:59:15.771Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-08-04T18:59:15.772Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [none]
[debug] [2024-08-04T18:59:15.772Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:15.773Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [none]
[debug] [2024-08-04T18:59:15.773Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:15.773Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [none]
[debug] [2024-08-04T18:59:15.773Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:15.774Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [none]
[debug] [2024-08-04T18:59:15.774Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:16.087Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com 200
[debug] [2024-08-04T18:59:16.087Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-08-04T18:59:16.106Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com 200
[debug] [2024-08-04T18:59:16.106Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-08-04T18:59:16.323Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com 200
[debug] [2024-08-04T18:59:16.323Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-08-04T18:59:16.325Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com 200
[debug] [2024-08-04T18:59:16.325Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-08-04T18:59:16.326Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig [none]
[debug] [2024-08-04T18:59:16.578Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig 200
[debug] [2024-08-04T18:59:16.578Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig {"projectId":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"}
[debug] [2024-08-04T18:59:16.579Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs [none]
[debug] [2024-08-04T18:59:16.894Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs 200
[debug] [2024-08-04T18:59:16.894Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs {}
[debug] [2024-08-04T18:59:16.896Z] Validating nodejs source
[debug] [2024-08-04T18:59:26.905Z] checkFunctionsSDKVersion was unable to fetch information from NPM Error: spawnSync npm ETIMEDOUT
    at Object.spawnSync (node:internal/child_process:1124:20)
    at Object.spawnSync (node:child_process:876:24)
    at Function.spawnSync [as sync] (/usr/local/lib/node_modules/firebase-tools/node_modules/cross-spawn/index.js:26:23)
    at Object.getLatestSDKVersion (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js:54:25)
    at Object.checkFunctionsSDKVersion (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js:74:32)
    at Delegate.validate (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:85:20)
    at loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:301:31)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:57:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:40:9)
    at async deploy (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:97:5)
[debug] [2024-08-04T18:59:26.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-04T18:59:26.906Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-08-04T18:59:26.907Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-04T18:59:26.912Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8763

[debug] [2024-08-04T18:59:27.278Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions (64.58 KB) for uploading 
[debug] [2024-08-04T18:59:32.315Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions [none]
[debug] [2024-08-04T18:59:32.975Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T18:59:32.975Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions {}
[debug] [2024-08-04T18:59:32.976Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-08-04T18:59:33.580Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T18:59:33.581Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions {"functions":[{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/175255734031/locations/us-central1/builds/7585f3c2-f4df-4bc0-a23d-d7ba1ec45392","runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-175255734031-us-central1","object":"helloWorld/function-source.zip","generation":"1722621980788199"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-175255734031-us-central1","object":"helloWorld/function-source.zip","generation":"1722621980788199"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/together-we-can-with-gemini/serviceAccounts/175255734031-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/together-we-can-with-gemini/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://helloworld-4ekdcquhnq-uc.a.run.app","serviceAccountEmail":"175255734031-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"helloworld-00001-zij","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2024-08-02T18:07:32.837891859Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"9c82e81ea4ce48426c3882d47d85b202470f95f8"},"environment":"GEN_2","url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/helloWorld","createTime":"2024-08-02T18:06:21.040162986Z"}]}
[debug] [2024-08-04T18:59:33.583Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T18:59:33.761Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T18:59:33.762Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[debug] [2024-08-04T18:59:33.763Z] [functions] found 2 new HTTP functions, testing setIamPolicy permission...
[debug] [2024-08-04T18:59:33.763Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions [none]
[debug] [2024-08-04T18:59:33.763Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T18:59:33.763Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-08-04T18:59:33.913Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions 200
[debug] [2024-08-04T18:59:33.913Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-08-04T18:59:33.913Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2024-08-04T18:59:33.914Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-08-04T18:59:33.914Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-08-04T18:59:42.486Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-08-04T18:59:42.487Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D"}
[debug] [2024-08-04T18:59:42.488Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip GoogleAccessId=service-175255734031%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D
[debug] [2024-08-04T18:59:42.488Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip [stream]
[debug] [2024-08-04T18:59:42.883Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip 200
[debug] [2024-08-04T18:59:42.883Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	helloWorld(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: creating Node.js 20 (1st Gen) function generateChallenges(us-central1)... 
[info] i  functions: creating Node.js 20 (1st Gen) function generateSummary(us-central1)... 
[info] i  functions: creating Node.js 20 (1st Gen) function evaluateSubmission(us-central1)... 
[info] i  functions: deleting Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[debug] [2024-08-04T19:00:05.167Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions [none]
[debug] [2024-08-04T19:00:05.167Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","entryPoint":"generateChallenges","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:00:05.168Z] >>> [apiv2][query] DELETE https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld [none]
[debug] [2024-08-04T19:00:05.581Z] <<< [apiv2][status] DELETE https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld 200
[debug] [2024-08-04T19:00:05.581Z] <<< [apiv2][body] DELETE https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-08-04T19:00:05.595540546Z","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","verb":"delete","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-08-04T19:00:05.582Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd [none]
[debug] [2024-08-04T19:00:05.939Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd 200
[debug] [2024-08-04T19:00:05.939Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-08-04T19:00:05.595540546Z","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","verb":"delete","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","state":"NOT_STARTED"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"IN_PROGRESS","resource":"projects/together-we-can-with-gemini/locations/us-central1/services/helloworld"}],"operationType":"DELETE_FUNCTION"},"done":false}
[debug] [2024-08-04T19:00:05.940Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions 200
[debug] [2024-08-04T19:00:05.940Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:05Z"}}
[debug] [2024-08-04T19:00:05.940Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:06.243Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:06.244Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z"}}
[debug] [2024-08-04T19:00:06.441Z] [delete-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-08-04T19:00:06.442Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd [none]
[debug] [2024-08-04T19:00:06.745Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:06.745Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:06.752Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd 200
[debug] [2024-08-04T19:00:06.752Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-08-04T19:00:05.595540546Z","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","verb":"delete","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","state":"NOT_STARTED"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/together-we-can-with-gemini/locations/us-central1/services/helloworld"}],"operationType":"DELETE_FUNCTION"},"done":false}
[debug] [2024-08-04T19:00:06.939Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:06.939Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z"}}
[debug] [2024-08-04T19:00:07.753Z] [delete-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-08-04T19:00:07.754Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd [none]
[debug] [2024-08-04T19:00:07.940Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:07.941Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:08.076Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd 200
[debug] [2024-08-04T19:00:08.076Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/operation-1722798005564-61ee02b2432af-d281afea-7ec380cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-08-04T19:00:05.595540546Z","endTime":"2024-08-04T19:00:07.006435674Z","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","verb":"delete","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/helloWorld","environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/together-we-can-with-gemini/locations/us-central1/services/helloworld"}],"operationType":"DELETE_FUNCTION"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[info] ✔  functions[helloWorld(us-central1)] Successful delete operation. 
[debug] [2024-08-04T19:00:08.080Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:08.080Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z"}}
[debug] [2024-08-04T19:00:10.081Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:10.083Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:10.214Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:10.214Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:00:14.216Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:14.218Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:14.385Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:14.385Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:00:22.387Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:22.388Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:22.832Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:22.833Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:00:32.834Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:32.836Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:33.077Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:33.077Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:00:43.079Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:43.080Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:43.300Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:43.300Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:00:53.302Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:00:53.302Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:00:53.501Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:00:53.502Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:03.502Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:01:03.504Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:01:03.712Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:01:03.713Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:03.713Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:03.713Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions [none]
[debug] [2024-08-04T19:01:03.713Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","entryPoint":"generateSummary","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:01:03.714Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions [none]
[debug] [2024-08-04T19:01:03.714Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","entryPoint":"evaluateSubmission","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:01:04.161Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions 200
[debug] [2024-08-04T19:01:04.161Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81"}}
[debug] [2024-08-04T19:01:04.162Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:04.253Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions 200
[debug] [2024-08-04T19:01:04.253Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81"}}
[debug] [2024-08-04T19:01:04.254Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:04.390Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:04.390Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81"}}
[debug] [2024-08-04T19:01:04.390Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:04.483Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:04.484Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81"}}
[debug] [2024-08-04T19:01:04.484Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:04.892Z] [create-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:01:04.893Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:04.984Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:04.985Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:05.141Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:05.141Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:05.142Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:05.182Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:05.182Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:05.183Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:06.143Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:06.143Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:06.183Z] [create-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:01:06.183Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:06.272Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:06.272Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:06.272Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:06.319Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:06.320Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:06.320Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:08.273Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:08.275Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:08.321Z] [create-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:01:08.322Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:08.418Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:08.418Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:08.418Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:08.457Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:08.457Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:08.457Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:12.419Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:12.420Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:12.458Z] [create-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:01:12.459Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:12.585Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:12.586Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:12.587Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:12.605Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:12.605Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:12.605Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:13.714Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:01:13.715Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:01:13.872Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:01:13.872Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:00:06Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:13.872Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:20.587Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:20.588Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:20.607Z] [create-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:01:20.607Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ [none]
[debug] [2024-08-04T19:01:20.793Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:20.793Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:04Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"}}
[debug] [2024-08-04T19:01:20.793Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[debug] [2024-08-04T19:01:20.843Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ 200
[debug] [2024-08-04T19:01:20.843Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zWS0xdk93TVNmVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateSummary","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:19Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-08-04T19:01:20.843Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module '@google/generative-ai'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)
    at Module._load (node:internal/modules/cjs/loader:986:27)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/workspace/index.js:3:32)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-08-04T19:01:23.873Z] [create-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:01:23.873Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ [none]
[debug] [2024-08-04T19:01:24.022Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ 200
[debug] [2024-08-04T19:01:24.023Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9tNzZBV1RaNDdyWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"entryPoint":"generateChallenges","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:21Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-08-04T19:01:24.023Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module '@google/generative-ai'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)
    at Module._load (node:internal/modules/cjs/loader:986:27)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/workspace/index.js:3:32)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-08-04T19:01:30.795Z] [create-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:01:30.796Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ [none]
[debug] [2024-08-04T19:01:30.988Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ 200
[debug] [2024-08-04T19:01:30.989Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wVzFXZ1hKZERXRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"entryPoint":"evaluateSubmission","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722799782&Signature=g%2F1LMUmjjYBK5bdTWaoL7N1pz4wNP1yvm6zZ9AyMld3n%2BLQHXGju5ODAZum2WpW5mEm96jYmWvAV5veCrOikFgGQdW41E6T8iJPsqYmni3wfTc%2BaeP2Cd9WO8QMVQUpz3prHsze6w1Lir1csUR%2FeXcPMrtdaivo1aSqUil3sOKToTYNe0TxBFJueuWXfbNfjUce259%2FXOyGrK6RPFEZtpUO2%2FRcBsBySZSgnMMPi1bQ%2Bv1Hc6IslgFCDcocYLa1drxtz7RrbcHqSSzJhA8sD19qBA5wgB4tgJyL2G82ZkDZj7jasvE1w%2B5prZHgjM1DdoRtvZcZ6sOtVZqGgiqDOVw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-08-04T19:01:21Z","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","sourceToken":"27496e1e-1958-427b-8d51-1fb6c9acaa81","buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-08-04T19:01:30.989Z] Got source token 27496e1e-1958-427b-8d51-1fb6c9acaa81 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module '@google/generative-ai'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)
    at Module._load (node:internal/modules/cjs/loader:986:27)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/workspace/index.js:3:32)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-08-04T19:01:30.999Z] Total Function Deployment time: 85833
[debug] [2024-08-04T19:01:31.000Z] 4 Functions Deployed
[debug] [2024-08-04T19:01:31.000Z] 3 Functions Errored
[debug] [2024-08-04T19:01:31.000Z] 0 Function Deployments Aborted
[debug] [2024-08-04T19:01:31.000Z] Average Function Deployment time: 60819.5
[info] 
[info] Functions deploy had errors with the following functions:
	evaluateSubmission(us-central1)
	generateChallenges(us-central1)
	generateSummary(us-central1)
[debug] [2024-08-04T19:01:31.000Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-08-04T19:01:31.000Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-08-04T19:01:31.001Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges [none]
[debug] [2024-08-04T19:01:31.001Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary [none]
[debug] [2024-08-04T19:01:31.001Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission [none]
[debug] [2024-08-04T19:01:31.002Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-08-04T19:01:31.002Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:01:31.233Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges 200
[debug] [2024-08-04T19:01:31.234Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/c3b651f8-9bc0-4508-999f-2e0792615f03","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-08-04T19:01:31.234Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/operations/c3b651f8-9bc0-4508-999f-2e0792615f03 [none]
[debug] [2024-08-04T19:01:31.236Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary 404
[debug] [2024-08-04T19:01:31.237Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:01:31.387Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:01:31.388Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:01:31.388Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:01:31.389Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:01:31.397Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission 404
[debug] [2024-08-04T19:01:31.397Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:01:31.419Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-08-04T19:01:31.420Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:01:31.561Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/operations/c3b651f8-9bc0-4508-999f-2e0792615f03 200
[debug] [2024-08-04T19:01:31.562Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/operations/c3b651f8-9bc0-4508-999f-2e0792615f03 {"name":"projects/together-we-can-with-gemini/locations/us-central1/operations/c3b651f8-9bc0-4508-999f-2e0792615f03","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2024-08-04T19:01:31.568Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:01:31.569Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:01:31.569Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:01:31.672Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:01:31.851Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:01:31.851Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:01:31.852Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/together-we-can-with-gemini/us/gcf 
[debug] [2024-08-04T19:01:31.852Z] Functions deploy failed.
[debug] [2024-08-04T19:01:31.853Z] {
  "endpoint": {
    "id": "generateSummary",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateSummary",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "5570af4f19487ca10c9566326c1c039bdaec5b40",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:01:31.853Z] {
  "endpoint": {
    "id": "generateChallenges",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateChallenges",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "5570af4f19487ca10c9566326c1c039bdaec5b40",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:01:31.853Z] {
  "endpoint": {
    "id": "evaluateSubmission",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "evaluateSubmission",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "5570af4f19487ca10c9566326c1c039bdaec5b40"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module '@google/generative-ai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1145:15)\n    at Module._load (node:internal/modules/cjs/loader:986:27)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/workspace/index.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Module.require (node:internal/modules/cjs/loader:1233:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to create function generateSummary in region us-central1
[error] - Error Failed to create function generateChallenges in region us-central1
[error] - Error Failed to create function evaluateSubmission in region us-central1
[debug] [2024-08-04T19:08:02.264Z] ----------------------------------------------------------------------
[debug] [2024-08-04T19:08:02.270Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2024-08-04T19:08:02.270Z] CLI Version:   13.15.0
[debug] [2024-08-04T19:08:02.270Z] Platform:      darwin
[debug] [2024-08-04T19:08:02.270Z] Node Version:  v20.10.0
[debug] [2024-08-04T19:08:02.270Z] Time:          Sun Aug 04 2024 14:08:02 GMT-0500 (Central Daylight Time)
[debug] [2024-08-04T19:08:02.270Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-08-04T19:08:02.308Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-08-04T19:08:02.308Z] > authorizing via signed-in user (ayushrijain19@gmail.com)
[debug] [2024-08-04T19:08:02.308Z] [iam] checking project together-we-can-with-gemini for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-08-04T19:08:02.309Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions [none]
[debug] [2024-08-04T19:08:02.309Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:08:02.309Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T19:08:02.539Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions 200
[debug] [2024-08-04T19:08:02.539Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T19:08:02.540Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-08-04T19:08:02.540Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-08-04T19:08:02.789Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-08-04T19:08:02.790Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'together-we-can-with-gemini'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-08-04T19:08:03.093Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T19:08:03.340Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T19:08:03.340Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-08-04T19:08:03.343Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [none]
[debug] [2024-08-04T19:08:03.343Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:08:03.344Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [none]
[debug] [2024-08-04T19:08:03.344Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:08:03.345Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [none]
[debug] [2024-08-04T19:08:03.345Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:08:03.346Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [none]
[debug] [2024-08-04T19:08:03.346Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:08:03.653Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com 200
[debug] [2024-08-04T19:08:03.653Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-08-04T19:08:03.919Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com 200
[debug] [2024-08-04T19:08:03.919Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-08-04T19:08:03.921Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com 200
[debug] [2024-08-04T19:08:03.921Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-08-04T19:08:03.948Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com 200
[debug] [2024-08-04T19:08:03.948Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-08-04T19:08:03.949Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig [none]
[debug] [2024-08-04T19:08:04.194Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig 200
[debug] [2024-08-04T19:08:04.194Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig {"projectId":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"}
[debug] [2024-08-04T19:08:04.195Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs [none]
[debug] [2024-08-04T19:08:04.451Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs 200
[debug] [2024-08-04T19:08:04.451Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs {}
[debug] [2024-08-04T19:08:04.453Z] Validating nodejs source
[debug] [2024-08-04T19:08:04.834Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "google/generative-ai": "^0.16.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-04T19:08:04.834Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-08-04T19:08:04.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-04T19:08:04.840Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8088

[debug] [2024-08-04T19:08:05.189Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions (64.6 KB) for uploading 
[debug] [2024-08-04T19:08:10.225Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions [none]
[debug] [2024-08-04T19:08:10.909Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T19:08:10.909Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions {"functions":[{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"evaluateSubmission","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"firebase-functions-hash":"5570af4f19487ca10c9566326c1c039bdaec5b40","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/25b9a409-2a38-4c6e-b768-561a5caabf1c.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-08-04T19:08:10.912Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-08-04T19:08:11.620Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T19:08:11.620Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions {}
[debug] [2024-08-04T19:08:11.622Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T19:08:11.789Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T19:08:11.789Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[debug] [2024-08-04T19:08:11.791Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-08-04T19:08:11.791Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-08-04T19:08:12.440Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-08-04T19:08:12.441Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D"}
[debug] [2024-08-04T19:08:12.442Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip GoogleAccessId=service-175255734031%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D
[debug] [2024-08-04T19:08:12.442Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip [stream]
[debug] [2024-08-04T19:08:12.809Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip 200
[debug] [2024-08-04T19:08:12.809Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (1st Gen) function generateChallenges(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function generateSummary(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function evaluateSubmission(us-central1)... 
[debug] [2024-08-04T19:08:12.812Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:08:12.812Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","entryPoint":"generateChallenges","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:08:13.366Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges 200
[debug] [2024-08-04T19:08:13.366Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z"}}
[debug] [2024-08-04T19:08:13.367Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:13.568Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:13.568Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z"}}
[debug] [2024-08-04T19:08:14.070Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:14.071Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:14.210Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:14.211Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:15.213Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:15.214Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:15.373Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:15.373Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:17.374Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:17.376Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:17.518Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:17.518Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:21.519Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:21.519Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:21.720Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:21.720Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:29.721Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:29.723Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:29.928Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:29.928Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:39.930Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:39.931Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:40.131Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:40.131Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:13Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"}}
[debug] [2024-08-04T19:08:50.133Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:08:50.135Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ [none]
[debug] [2024-08-04T19:08:50.358Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ 200
[debug] [2024-08-04T19:08:50.358Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9KbnBvRWNTQ0lzSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:41Z","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_08_34_337Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:08:50.358Z] Got source token undefined for region us-central1
[debug] [2024-08-04T19:08:50.359Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:08:50.359Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","entryPoint":"generateSummary","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:08:50.359Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:08:50.359Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","entryPoint":"evaluateSubmission","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[error] Build failed: npm error code EINVALIDPACKAGENAME
npm error Invalid package name "google/generative-ai" of package "google/generative-ai@^0.16.0": name can only contain URL-friendly characters.

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_08_34_337Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:08:50.811Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission 200
[debug] [2024-08-04T19:08:50.812Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z"}}
[debug] [2024-08-04T19:08:50.812Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:08:50.813Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary 200
[debug] [2024-08-04T19:08:50.813Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z"}}
[debug] [2024-08-04T19:08:50.813Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:08:50.959Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:08:50.959Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z"}}
[debug] [2024-08-04T19:08:50.980Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:08:50.980Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z"}}
[debug] [2024-08-04T19:08:51.462Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:08:51.463Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:08:51.481Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:08:51.481Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:08:51.638Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:08:51.638Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"}}
[debug] [2024-08-04T19:08:52.640Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:08:52.640Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:08:52.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:08:52.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"}}
[debug] [2024-08-04T19:08:54.812Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:08:54.813Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:08:54.937Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:08:54.937Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z"}}
[debug] [2024-08-04T19:08:54.938Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:08:54.939Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"}}
[debug] [2024-08-04T19:08:55.939Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:08:55.941Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:08:56.088Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:08:56.089Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643"}}
[debug] [2024-08-04T19:08:58.090Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:08:58.091Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:08:58.233Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:08:58.233Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643"}}
[debug] [2024-08-04T19:08:58.941Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:08:58.942Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:08:59.088Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:08:59.088Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"}}
[debug] [2024-08-04T19:09:02.236Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:09:02.237Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:09:02.521Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:09:02.521Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643"}}
[debug] [2024-08-04T19:09:07.091Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:09:07.093Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:09:07.243Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:09:07.244Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"}}
[debug] [2024-08-04T19:09:10.522Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:09:10.524Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:09:10.813Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:09:10.813Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:08:50Z","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643"}}
[debug] [2024-08-04T19:09:17.246Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:09:17.246Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw [none]
[debug] [2024-08-04T19:09:17.435Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw 200
[debug] [2024-08-04T19:09:17.435Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi9xWDdJTFRfcTR1bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:09:13Z","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_222Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:09:17.435Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EINVALIDPACKAGENAME
npm error Invalid package name "google/generative-ai" of package "google/generative-ai@^0.16.0": name can only contain URL-friendly characters.

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_222Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:09:20.815Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:09:20.815Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw [none]
[debug] [2024-08-04T19:09:20.954Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw 200
[debug] [2024-08-04T19:09:20.954Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS8zSGtuSFB3TXQ0cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800292&Signature=lmAa70pKKki7OO8dLDUzEqjaI8yzMwydoFF2BNAhQh0uLF4WO4oM8qIjcpIz1GEl4tmI1aZMiO7qIszF4fUWVLekbZHhT%2FqKHowhXYyF1znVZfrfBVALNC1hJ3CUcP%2BdQR2J%2B2FzGw0yuHQtkthDRUPvCmu7cBiVG5W6jjVzBzsKVfrAR6oMdWCK8hcZw%2FktzbGDdw9OAzXR07KpZ5pYG%2FDhcGniC3rw7Sv%2FbFMkEJla8nAJBIRW1J5%2BQY%2B0EX%2FwX1PrZp5HgjqCgM%2FSqbA4s%2B842B0yFu%2F%2Flpq6FkI4c%2B94bTTAWVUoxlciSH4o8Iia5NryoIYy13SmvkRjE48g8w%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"882227d8-604f-430e-808f-c6b0c4a0989b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/882227d8-604f-430e-808f-c6b0c4a0989b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-08-04T19:09:11Z","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_385Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:09:20.955Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EINVALIDPACKAGENAME
npm error Invalid package name "google/generative-ai" of package "google/generative-ai@^0.16.0": name can only contain URL-friendly characters.

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_385Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:09:20.957Z] Total Function Deployment time: 68141
[debug] [2024-08-04T19:09:20.957Z] 3 Functions Deployed
[debug] [2024-08-04T19:09:20.957Z] 3 Functions Errored
[debug] [2024-08-04T19:09:20.957Z] 0 Function Deployments Aborted
[debug] [2024-08-04T19:09:20.957Z] Average Function Deployment time: 56770.333333333336
[info] 
[info] Functions deploy had errors with the following functions:
	evaluateSubmission(us-central1)
	generateChallenges(us-central1)
	generateSummary(us-central1)
[debug] [2024-08-04T19:09:20.958Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-08-04T19:09:20.958Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-08-04T19:09:20.958Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges [none]
[debug] [2024-08-04T19:09:20.959Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary [none]
[debug] [2024-08-04T19:09:20.959Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission [none]
[debug] [2024-08-04T19:09:20.959Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:09:21.204Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary 404
[debug] [2024-08-04T19:09:21.205Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:09:21.345Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:09:21.345Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:09:21.346Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:09:21.348Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:09:21.375Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission 404
[debug] [2024-08-04T19:09:21.375Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:09:21.375Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges 404
[debug] [2024-08-04T19:09:21.375Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:09:21.545Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:09:21.545Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:09:21.545Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:09:21.646Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:09:21.829Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:09:21.829Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:09:21.829Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/together-we-can-with-gemini/us/gcf 
[debug] [2024-08-04T19:09:21.829Z] Functions deploy failed.
[debug] [2024-08-04T19:09:21.830Z] {
  "endpoint": {
    "id": "generateChallenges",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateChallenges",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "8090c2aee0d63641d4f1042d343f3795b47a5374",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_08_34_337Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_08_34_337Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:09:21.830Z] {
  "endpoint": {
    "id": "evaluateSubmission",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "evaluateSubmission",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "8090c2aee0d63641d4f1042d343f3795b47a5374"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_222Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_222Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:09:21.830Z] {
  "endpoint": {
    "id": "generateSummary",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateSummary",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "8090c2aee0d63641d4f1042d343f3795b47a5374",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_385Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EINVALIDPACKAGENAME\nnpm error Invalid package name \"google/generative-ai\" of package \"google/generative-ai@^0.16.0\": name can only contain URL-friendly characters.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_09_08_385Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function generateChallenges in region us-central1
[error] - Error Failed to update function evaluateSubmission in region us-central1
[error] - Error Failed to update function generateSummary in region us-central1
[debug] [2024-08-04T19:10:24.389Z] ----------------------------------------------------------------------
[debug] [2024-08-04T19:10:24.392Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2024-08-04T19:10:24.392Z] CLI Version:   13.15.0
[debug] [2024-08-04T19:10:24.393Z] Platform:      darwin
[debug] [2024-08-04T19:10:24.393Z] Node Version:  v20.10.0
[debug] [2024-08-04T19:10:24.393Z] Time:          Sun Aug 04 2024 14:10:24 GMT-0500 (Central Daylight Time)
[debug] [2024-08-04T19:10:24.393Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-08-04T19:10:24.446Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-08-04T19:10:24.447Z] > authorizing via signed-in user (ayushrijain19@gmail.com)
[debug] [2024-08-04T19:10:24.447Z] [iam] checking project together-we-can-with-gemini for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-08-04T19:10:24.448Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions [none]
[debug] [2024-08-04T19:10:24.448Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:10:24.448Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T19:10:24.612Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions 200
[debug] [2024-08-04T19:10:24.612Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/together-we-can-with-gemini:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-08-04T19:10:24.612Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-08-04T19:10:24.612Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-08-04T19:10:24.796Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-08-04T19:10:24.796Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/together-we-can-with-gemini/serviceAccounts/together-we-can-with-gemini@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'together-we-can-with-gemini'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-08-04T19:10:25.023Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T19:10:25.223Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T19:10:25.223Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-08-04T19:10:25.224Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [none]
[debug] [2024-08-04T19:10:25.224Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:10:25.225Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [none]
[debug] [2024-08-04T19:10:25.225Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:10:25.226Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [none]
[debug] [2024-08-04T19:10:25.226Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:10:25.226Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [none]
[debug] [2024-08-04T19:10:25.226Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com x-goog-quota-user=projects/together-we-can-with-gemini
[debug] [2024-08-04T19:10:25.466Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com 200
[debug] [2024-08-04T19:10:25.467Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-08-04T19:10:25.686Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com 200
[debug] [2024-08-04T19:10:25.686Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-08-04T19:10:25.729Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com 200
[debug] [2024-08-04T19:10:25.730Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-08-04T19:10:25.731Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com 200
[debug] [2024-08-04T19:10:25.731Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/together-we-can-with-gemini/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-08-04T19:10:25.732Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig [none]
[debug] [2024-08-04T19:10:25.999Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig 200
[debug] [2024-08-04T19:10:26.000Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig {"projectId":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"}
[debug] [2024-08-04T19:10:26.000Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs [none]
[debug] [2024-08-04T19:10:26.227Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs 200
[debug] [2024-08-04T19:10:26.228Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/together-we-can-with-gemini/configs {}
[debug] [2024-08-04T19:10:26.229Z] Validating nodejs source
[debug] [2024-08-04T19:10:26.566Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-04T19:10:26.566Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-08-04T19:10:26.567Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-04T19:10:26.571Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8306

[debug] [2024-08-04T19:10:26.878Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions (64.6 KB) for uploading 
[debug] [2024-08-04T19:10:31.919Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions [none]
[debug] [2024-08-04T19:10:32.531Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T19:10:32.531Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/-/functions {"functions":[{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"evaluateSubmission","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"together-we-can-with-gemini@appspot.gserviceaccount.com","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8090c2aee0d63641d4f1042d343f3795b47a5374"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/d760a3eb-f21e-4145-821b-eeb90d4177e0.zip","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-08-04T19:10:32.534Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-08-04T19:10:33.151Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions 200
[debug] [2024-08-04T19:10:33.152Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/together-we-can-with-gemini/locations/-/functions {}
[debug] [2024-08-04T19:10:33.154Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini [none]
[debug] [2024-08-04T19:10:33.313Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini 200
[debug] [2024-08-04T19:10:33.313Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini {"projectId":"together-we-can-with-gemini","projectNumber":"175255734031","displayName":"together-we-can-with-gemini","name":"projects/together-we-can-with-gemini","resources":{"hostingSite":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_bd2fdcc7-edeb-446c-a8f0-5a44ce1721ab"}
[debug] [2024-08-04T19:10:33.316Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-08-04T19:10:33.316Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-08-04T19:10:33.876Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-08-04T19:10:33.876Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D"}
[debug] [2024-08-04T19:10:33.878Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip GoogleAccessId=service-175255734031%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D
[debug] [2024-08-04T19:10:33.878Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip [stream]
[debug] [2024-08-04T19:10:34.199Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip 200
[debug] [2024-08-04T19:10:34.199Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (1st Gen) function generateChallenges(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function generateSummary(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function evaluateSubmission(us-central1)... 
[debug] [2024-08-04T19:10:34.204Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:10:34.204Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","entryPoint":"generateChallenges","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:10:34.661Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges 200
[debug] [2024-08-04T19:10:34.661Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z"}}
[debug] [2024-08-04T19:10:34.663Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:34.834Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:34.834Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z"}}
[debug] [2024-08-04T19:10:35.337Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:10:35.338Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:35.488Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:35.488Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"}}
[debug] [2024-08-04T19:10:36.490Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:10:36.491Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:36.647Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:36.648Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"}}
[debug] [2024-08-04T19:10:38.650Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:10:38.651Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:38.786Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:38.787Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"}}
[debug] [2024-08-04T19:10:42.788Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:10:42.789Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:42.934Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:42.934Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"}}
[debug] [2024-08-04T19:10:50.934Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:10:50.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:10:51.138Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:10:51.138Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:34Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"}}
[debug] [2024-08-04T19:11:01.140Z] [update-default-us-central1-generateChallenges] Retrying task index 0
[debug] [2024-08-04T19:11:01.141Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ [none]
[debug] [2024-08-04T19:11:01.337Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ 200
[debug] [2024-08-04T19:11:01.338Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlQ2hhbGxlbmdlcy9vSFBOY3dXc1pVSQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateChallenges","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateChallenges","updateTime":"2024-08-04T19:01:21.683Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"},"runtime":"nodejs20","buildId":"7e66ce33-7a11-473a-86b5-f11390301e3b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/7e66ce33-7a11-473a-86b5-f11390301e3b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:10:59Z","buildId":"f6d9052a-8d75-45fc-935f-a9449ae492ae","buildName":"projects/175255734031/locations/us-central1/builds/f6d9052a-8d75-45fc-935f-a9449ae492ae"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_10_54_069Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:11:01.338Z] Got source token undefined for region us-central1
[debug] [2024-08-04T19:11:01.338Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:11:01.338Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","entryPoint":"generateSummary","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-08-04T19:11:01.339Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-08-04T19:11:01.339Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission {"name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","entryPoint":"evaluateSubmission","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: @google/generative-ai@0.16.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_10_54_069Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:11:01.759Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary 200
[debug] [2024-08-04T19:11:01.760Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:01.763Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:01.767Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission 200
[debug] [2024-08-04T19:11:01.767Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:01.767Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:01.902Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:01.903Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:01.919Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:01.919Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:02.404Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:02.404Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:02.422Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:02.422Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:02.575Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:02.575Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:02.599Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:02.600Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z"}}
[debug] [2024-08-04T19:11:03.577Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:03.577Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:03.600Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:03.600Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:03.719Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:03.719Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"daa340ad-114f-43f9-8fb3-d96f71f087bf","buildName":"projects/175255734031/locations/us-central1/builds/daa340ad-114f-43f9-8fb3-d96f71f087bf"}}
[debug] [2024-08-04T19:11:03.745Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:03.745Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"a5fc995e-5440-4b39-bea9-40238c464572","buildName":"projects/175255734031/locations/us-central1/builds/a5fc995e-5440-4b39-bea9-40238c464572"}}
[debug] [2024-08-04T19:11:05.720Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:05.720Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:05.747Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:05.749Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:05.857Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:05.857Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"daa340ad-114f-43f9-8fb3-d96f71f087bf","buildName":"projects/175255734031/locations/us-central1/builds/daa340ad-114f-43f9-8fb3-d96f71f087bf"}}
[debug] [2024-08-04T19:11:05.884Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:05.885Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"a5fc995e-5440-4b39-bea9-40238c464572","buildName":"projects/175255734031/locations/us-central1/builds/a5fc995e-5440-4b39-bea9-40238c464572"}}
[debug] [2024-08-04T19:11:09.859Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:09.860Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:09.886Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:09.886Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:09.990Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:09.990Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"daa340ad-114f-43f9-8fb3-d96f71f087bf","buildName":"projects/175255734031/locations/us-central1/builds/daa340ad-114f-43f9-8fb3-d96f71f087bf"}}
[debug] [2024-08-04T19:11:10.023Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:10.023Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"a5fc995e-5440-4b39-bea9-40238c464572","buildName":"projects/175255734031/locations/us-central1/builds/a5fc995e-5440-4b39-bea9-40238c464572"}}
[debug] [2024-08-04T19:11:17.992Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:17.993Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:18.024Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:18.024Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:18.207Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:18.207Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"daa340ad-114f-43f9-8fb3-d96f71f087bf","buildName":"projects/175255734031/locations/us-central1/builds/daa340ad-114f-43f9-8fb3-d96f71f087bf"}}
[debug] [2024-08-04T19:11:18.244Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:18.244Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:01Z","buildId":"a5fc995e-5440-4b39-bea9-40238c464572","buildName":"projects/175255734031/locations/us-central1/builds/a5fc995e-5440-4b39-bea9-40238c464572"}}
[debug] [2024-08-04T19:11:28.209Z] [update-default-us-central1-generateSummary] Retrying task index 0
[debug] [2024-08-04T19:11:28.209Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA [none]
[debug] [2024-08-04T19:11:28.246Z] [update-default-us-central1-evaluateSubmission] Retrying task index 0
[debug] [2024-08-04T19:11:28.246Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA [none]
[debug] [2024-08-04T19:11:28.406Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA 200
[debug] [2024-08-04T19:11:28.406Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2dlbmVyYXRlU3VtbWFyeS9NLWEyVWRQOHBsOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary","httpsTrigger":{"url":"https://us-central1-together-we-can-with-gemini.cloudfunctions.net/generateSummary","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"generateSummary","updateTime":"2024-08-04T19:01:19.951Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"},"runtime":"nodejs20","buildId":"2229369d-d138-4df1-827d-1d74bf5b0643","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/2229369d-d138-4df1-827d-1d74bf5b0643","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:23Z","buildId":"daa340ad-114f-43f9-8fb3-d96f71f087bf","buildName":"projects/175255734031/locations/us-central1/builds/daa340ad-114f-43f9-8fb3-d96f71f087bf"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_19_737Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:11:28.407Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: @google/generative-ai@0.16.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_19_737Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:11:28.476Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA 200
[debug] [2024-08-04T19:11:28.476Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA {"name":"operations/dG9nZXRoZXItd2UtY2FuLXdpdGgtZ2VtaW5pL3VzLWNlbnRyYWwxL2V2YWx1YXRlU3VibWlzc2lvbi8wWVlGaDVUTXBYMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}","service":"firestore.googleapis.com"},"status":"OFFLINE","entryPoint":"evaluateSubmission","updateTime":"2024-08-04T19:01:21.183Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c5ded3113eff7c127503abd38173fd65bc028285"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-328514136754.us-central1.cloudfunctions.appspot.com/919ae84c-6e16-4a4b-8e9f-c5a0acdcfd6f.zip?GoogleAccessId=service-175255734031@gcf-admin-robot.iam.gserviceaccount.com&Expires=1722800433&Signature=ooA8qcTbxd3rNYqj1WP6uV7lwZO7j%2BuIatISnbuYeRswj0v3ecf%2FBoB7%2FsG6V0eav8R71Ql9Q3Mv22qCGujf%2FrPh2QDO0nkH%2BIOkIlzI1lTLCQnx5Oqn7D7gpUtutbhzl%2B2WT6yKKvR2O0TFn3nTHT%2BTtfRksfp99raetjm0jiaMAM5cNhNvd8MfYCw2bqnT8PvxONash36XOsysgRCe%2BBEe%2BAGNqq0I8TFppOvxefYJ%2BsGV4%2F1oOFTtgD98JU5ja%2ByIP%2BmGMCKnpAgHkPxJLv5kpgToTLojnzJUTSdQFZXxBmSrJuRdpg6gqGKyf6A5spELFTC6z9Lfr61xNrp%2Fuw%3D%3D","environmentVariables":{"GEMINI_API_KEY":"AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM","FIREBASE_CONFIG":"{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"together-we-can-with-gemini","EVENTARC_CLOUD_EVENT_SOURCE":"projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"},"runtime":"nodejs20","buildId":"b8296147-c668-4f0e-80fc-8046127df9a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/175255734031/locations/us-central1/builds/b8296147-c668-4f0e-80fc-8046127df9a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-08-04T19:11:24Z","buildId":"a5fc995e-5440-4b39-bea9-40238c464572","buildName":"projects/175255734031/locations/us-central1/builds/a5fc995e-5440-4b39-bea9-40238c464572"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_20_316Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-08-04T19:11:28.476Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: @google/generative-ai@0.16.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_20_316Z-debug-0.log; Error ID: beaf8772
[debug] [2024-08-04T19:11:28.479Z] Total Function Deployment time: 54275
[debug] [2024-08-04T19:11:28.479Z] 3 Functions Deployed
[debug] [2024-08-04T19:11:28.479Z] 3 Functions Errored
[debug] [2024-08-04T19:11:28.479Z] 0 Function Deployments Aborted
[debug] [2024-08-04T19:11:28.479Z] Average Function Deployment time: 45206
[info] 
[info] Functions deploy had errors with the following functions:
	evaluateSubmission(us-central1)
	generateChallenges(us-central1)
	generateSummary(us-central1)
[debug] [2024-08-04T19:11:28.479Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-08-04T19:11:28.479Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-08-04T19:11:28.480Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges [none]
[debug] [2024-08-04T19:11:28.481Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary [none]
[debug] [2024-08-04T19:11:28.481Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission [none]
[debug] [2024-08-04T19:11:28.481Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:11:28.689Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary 404
[debug] [2024-08-04T19:11:28.689Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_summary\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:11:28.735Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:11:28.736Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:11:28.736Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:11:28.738Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:11:28.820Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission 404
[debug] [2024-08-04T19:11:28.821Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/evaluate_submission\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:11:28.864Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges 404
[debug] [2024-08-04T19:11:28.864Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges {"error":{"code":404,"message":"Package \"projects/together-we-can-with-gemini/locations/us-central1/repositories/gcf-artifacts/packages/generate_challenges\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-08-04T19:11:28.922Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:11:28.922Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:11:28.923Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-08-04T19:11:29.024Z] >>> [apiv2][query] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list [none]
[debug] [2024-08-04T19:11:29.203Z] <<< [apiv2][status] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list 404
[debug] [2024-08-04T19:11:29.204Z] <<< [apiv2][body] GET https://us.gcr.io/v2/together-we-can-with-gemini/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-08-04T19:11:29.204Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/together-we-can-with-gemini/us/gcf 
[debug] [2024-08-04T19:11:29.206Z] Functions deploy failed.
[debug] [2024-08-04T19:11:29.206Z] {
  "endpoint": {
    "id": "generateChallenges",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateChallenges",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateChallenges"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "c5ded3113eff7c127503abd38173fd65bc028285",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_10_54_069Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_10_54_069Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:11:29.207Z] {
  "endpoint": {
    "id": "generateSummary",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "generateSummary",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/generateSummary"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "c5ded3113eff7c127503abd38173fd65bc028285",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_19_737Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_19_737Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-08-04T19:11:29.207Z] {
  "endpoint": {
    "id": "evaluateSubmission",
    "project": "together-we-can-with-gemini",
    "region": "us-central1",
    "entryPoint": "evaluateSubmission",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyCTCeoVai5ZZhG10qt63tM7XELwLpNK8MM",
      "FIREBASE_CONFIG": "{\"projectId\":\"together-we-can-with-gemini\",\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "together-we-can-with-gemini",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/together-we-can-with-gemini/locations/us-central1/functions/evaluateSubmission"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "c5ded3113eff7c127503abd38173fd65bc028285"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_20_316Z-debug-0.log; Error ID: beaf8772",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: @google/generative-ai@0.16.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-08-04T19_11_20_316Z-debug-0.log; Error ID: beaf8772"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function generateChallenges in region us-central1
[error] - Error Failed to update function generateSummary in region us-central1
[error] - Error Failed to update function evaluateSubmission in region us-central1
[debug] [2024-08-10T20:07:41.231Z] ----------------------------------------------------------------------
[debug] [2024-08-10T20:07:41.233Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,firestore,storage
[debug] [2024-08-10T20:07:41.233Z] CLI Version:   13.15.0
[debug] [2024-08-10T20:07:41.233Z] Platform:      darwin
[debug] [2024-08-10T20:07:41.233Z] Node Version:  v20.10.0
[debug] [2024-08-10T20:07:41.234Z] Time:          Sat Aug 10 2024 15:07:41 GMT-0500 (Central Daylight Time)
[debug] [2024-08-10T20:07:41.234Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-08-10T20:07:41.235Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2024-08-10T20:07:41.301Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-08-10T20:07:41.301Z] > authorizing via signed-in user (ayushrijain19@gmail.com)
[debug] [2024-08-10T20:07:41.393Z] java version "21.0.1" 2023-10-17 LTS

[debug] [2024-08-10T20:07:41.393Z] Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)
Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)

[debug] [2024-08-10T20:07:41.396Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: functions, storage {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, storage"}}
[warn] ⚠  firestore: Not starting the firestore emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"firestore"},"message":"Not starting the \u001b[1mfirestore\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[debug] [2024-08-10T20:07:41.712Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-08-10T20:07:41.712Z] [storage] Storage Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-08-10T20:07:41.712Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-08-10T20:07:41.714Z] [hub] writing locator at /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/hub-together-we-can-with-gemini.json
[debug] [2024-08-10T20:07:41.869Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-08-10T20:07:41.870Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-08-10T20:07:41.870Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, dataconnect\u001b[22m"}}
[debug] [2024-08-10T20:07:41.872Z] defaultcredentials: writing to file /Users/ajain/.config/firebase/ayushrijain19_gmail_com_application_default_credentials.json
[debug] [2024-08-10T20:07:41.874Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2024-08-10T20:07:41.874Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2024-08-10T20:07:41.889Z] Setting GAC to /Users/ajain/.config/firebase/ayushrijain19_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ajain/.config/firebase/ayushrijain19_gmail_com_application_default_credentials.json"}}
[debug] [2024-08-10T20:07:41.890Z] > refreshing access token with scopes: []
[debug] [2024-08-10T20:07:41.890Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-08-10T20:07:41.891Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-08-10T20:07:42.054Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-08-10T20:07:42.054Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-08-10T20:07:42.067Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig [none]
[debug] [2024-08-10T20:07:42.477Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig 200
[debug] [2024-08-10T20:07:42.477Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/together-we-can-with-gemini/adminSdkConfig {"projectId":"together-we-can-with-gemini","storageBucket":"together-we-can-with-gemini.appspot.com","locationId":"us-central"}
[debug] [2024-08-10T20:07:42.488Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"storage"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-08-10T20:07:42.940Z] Temp file directory for storage emulator: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/firebase/storage/blobs {"metadata":{"emulator":{"name":"storage"},"message":"Temp file directory for storage emulator: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/firebase/storage/blobs"}}
[debug] [2024-08-10T20:07:42.943Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-08-10T20:07:42.943Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-08-10T20:07:42.943Z] Starting Emulator UI with command {"binary":"node","args":["/Users/ajain/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/ajain/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-08-10T20:07:43.018Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-08-10T20:07:43.018Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\" for Cloud Functions..."}}
[debug] [2024-08-10T20:07:43.151Z] Validating nodejs source
[debug] [2024-08-10T20:07:43.628Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:07:43.629Z] Building nodejs source
[debug] [2024-08-10T20:07:43.629Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:07:43.630Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:07:43.634Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8257

[debug] [2024-08-10T20:07:44.171Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[info] ✔  functions[us-central1-generateChallenges]: http function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/generateChallenges). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/generateChallenges)."}}
[info] ✔  functions[us-central1-generateSummary]: http function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/generateSummary). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/generateSummary)."}}
[info] i  functions[us-central1-evaluateSubmission]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] ✔  functions[us-central1-translateDocuments]: http function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/translateDocuments). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/together-we-can-with-gemini/us-central1/translateDocuments)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Storage   │ 127.0.0.1:9199 │ http://127.0.0.1:4000/storage   │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-08-10T20:08:02.993Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:08:02.993Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:08:02.993Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:08:02.993Z"],"workRunningCount":1}
[debug] [2024-08-10T20:08:02.994Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:08:02.994Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:08:02.994Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:08:02.996Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:08:02.996Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:08:03.602Z] [runtime-status] [23320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:08:03.602Z] [runtime-status] [23320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:08:03.603Z] [runtime-status] [23320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:08:03.603Z] [runtime-status] [23320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:08:03.720Z] [runtime-status] [23320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:08:03.720Z] [runtime-status] [23320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:08:03.721Z] [runtime-status] [23320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:08:03.721Z] [runtime-status] [23320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:08:03.722Z] [runtime-status] [23320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:08:03.722Z] [runtime-status] [23320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:08:03.973Z] [runtime-status] [23320] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2024-08-10T20:08:03.977Z] [runtime-status] [23320] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:08:03.977Z] [runtime-status] [23320] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1a11d8bbf6f548b1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23320] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1a11d8bbf6f548b1.sock"}}
[debug] [2024-08-10T20:08:04.012Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: IDLE"}}
[debug] [2024-08-10T20:08:04.012Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:08:04.012Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: Error: A bucket name is needed to use Cloud Storage. {"user":"Error generating summary: Error: A bucket name is needed to use Cloud Storage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: Error: A bucket name is needed to use Cloud Storage."}}
[info] >      at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19) {"user":"    at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:346:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:346:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:346:28"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:08:04.741Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 729.306667ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 729.306667ms"}}
[debug] [2024-08-10T20:08:04.741Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: IDLE"}}
[debug] [2024-08-10T20:08:04.742Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:08:04.742Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:08:04.742Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:10:22.877Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:10:23.891Z] Validating nodejs source
[debug] [2024-08-10T20:10:24.411Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:10:24.411Z] Building nodejs source
[debug] [2024-08-10T20:10:24.411Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:10:24.413Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:10:24.415Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8929

[debug] [2024-08-10T20:10:24.968Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:10:29.992Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:10:29.992Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: FINISHING"}}
[debug] [2024-08-10T20:10:30.015Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: exited"}}
[debug] [2024-08-10T20:10:30.015Z] [worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d5976777-baf8-4f70-926a-597b01154b58]: FINISHED"}}
[debug] [2024-08-10T20:10:42.111Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:10:43.113Z] Validating nodejs source
[debug] [2024-08-10T20:10:43.513Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:10:43.513Z] Building nodejs source
[debug] [2024-08-10T20:10:43.513Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:10:43.514Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:10:43.514Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8497

[debug] [2024-08-10T20:10:43.996Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:10:46.697Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:10:46.697Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:10:46.697Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:10:46.697Z"],"workRunningCount":1}
[debug] [2024-08-10T20:10:46.697Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:10:46.697Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:10:46.697Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:10:46.697Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:10:46.699Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:10:46.699Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:10:47.343Z] [runtime-status] [23358] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:10:47.343Z] [runtime-status] [23358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:10:47.343Z] [runtime-status] [23358] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:10:47.344Z] [runtime-status] [23358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:10:47.410Z] [runtime-status] [23358] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:10:47.410Z] [runtime-status] [23358] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:10:47.411Z] [runtime-status] [23358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:10:47.411Z] [runtime-status] [23358] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:10:47.412Z] [runtime-status] [23358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:10:47.412Z] [runtime-status] [23358] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:10:47.578Z] [runtime-status] [23358] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:10:47.588Z] [runtime-status] [23358] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:10:47.589Z] [runtime-status] [23358] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_128fe2445308ae70.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23358] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_128fe2445308ae70.sock"}}
[debug] [2024-08-10T20:10:47.611Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: IDLE"}}
[debug] [2024-08-10T20:10:47.611Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:10:47.611Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:10:48.198Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 586.287875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 586.287875ms"}}
[debug] [2024-08-10T20:10:48.198Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: IDLE"}}
[debug] [2024-08-10T20:10:48.198Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:10:48.198Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:10:48.198Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:10:49.017Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:10:49.017Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: FINISHING"}}
[debug] [2024-08-10T20:10:49.021Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: exited"}}
[debug] [2024-08-10T20:10:49.021Z] [worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-9fb1121f-07d0-4961-b14f-557410494ead]: FINISHED"}}
[debug] [2024-08-10T20:15:10.031Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:15:11.035Z] Validating nodejs source
[debug] [2024-08-10T20:15:11.585Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:15:11.585Z] Building nodejs source
[debug] [2024-08-10T20:15:11.585Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:15:11.586Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:15:11.587Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8587

[debug] [2024-08-10T20:15:12.169Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:15:20.542Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:15:21.544Z] Validating nodejs source
[debug] [2024-08-10T20:15:22.023Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:15:22.023Z] Building nodejs source
[debug] [2024-08-10T20:15:22.023Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:15:22.025Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:15:22.025Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8618

[debug] [2024-08-10T20:15:22.781Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:15:28.717Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:15:28.717Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:15:28.718Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:15:28.717Z"],"workRunningCount":1}
[debug] [2024-08-10T20:15:28.718Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:15:28.718Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:15:28.718Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:15:28.718Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:15:28.719Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:15:28.719Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:15:29.423Z] [runtime-status] [23398] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:15:29.424Z] [runtime-status] [23398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:15:29.424Z] [runtime-status] [23398] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:15:29.425Z] [runtime-status] [23398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:15:29.542Z] [runtime-status] [23398] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:15:29.542Z] [runtime-status] [23398] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:15:29.543Z] [runtime-status] [23398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:15:29.543Z] [runtime-status] [23398] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:15:29.544Z] [runtime-status] [23398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:15:29.544Z] [runtime-status] [23398] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:15:29.782Z] [runtime-status] [23398] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:15:29.787Z] [runtime-status] [23398] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:15:29.788Z] [runtime-status] [23398] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_d3512b6fed7c9358.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23398] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_d3512b6fed7c9358.sock"}}
[debug] [2024-08-10T20:15:29.836Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: IDLE"}}
[debug] [2024-08-10T20:15:29.837Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:15:29.837Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:15:30.235Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 398.444083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 398.444083ms"}}
[debug] [2024-08-10T20:15:30.235Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: IDLE"}}
[debug] [2024-08-10T20:15:30.235Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:15:30.236Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:15:30.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:16:48.720Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:16:49.724Z] Validating nodejs source
[debug] [2024-08-10T20:16:50.195Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:16:50.196Z] Building nodejs source
[debug] [2024-08-10T20:16:50.196Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:16:50.197Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:16:50.198Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8682

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:436
.
^

SyntaxError: Unexpected token '.'
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:16:50.305Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:16:57.520Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:16:58.521Z] Validating nodejs source
[debug] [2024-08-10T20:16:58.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:16:58.945Z] Building nodejs source
[debug] [2024-08-10T20:16:58.945Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:16:58.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:16:58.946Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8222

[debug] [2024-08-10T20:16:59.470Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:17:04.485Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:17:04.485Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: FINISHING"}}
[debug] [2024-08-10T20:17:04.493Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: exited"}}
[debug] [2024-08-10T20:17:04.493Z] [worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-205aed8e-74ae-4855-ae06-b443e6aaff2f]: FINISHED"}}
[debug] [2024-08-10T20:17:06.875Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:17:06.875Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:17:06.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:17:06.875Z"],"workRunningCount":1}
[debug] [2024-08-10T20:17:06.876Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:17:06.876Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:17:06.876Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:17:06.876Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:17:06.877Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:17:06.877Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:17:07.475Z] [runtime-status] [23431] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:17:07.476Z] [runtime-status] [23431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:17:07.476Z] [runtime-status] [23431] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:17:07.476Z] [runtime-status] [23431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:17:07.539Z] [runtime-status] [23431] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:17:07.539Z] [runtime-status] [23431] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:17:07.539Z] [runtime-status] [23431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:17:07.539Z] [runtime-status] [23431] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:17:07.539Z] [runtime-status] [23431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:17:07.540Z] [runtime-status] [23431] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:17:07.719Z] [runtime-status] [23431] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:17:07.723Z] [runtime-status] [23431] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:17:07.724Z] [runtime-status] [23431] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_f6a88eec148977e1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23431] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_f6a88eec148977e1.sock"}}
[debug] [2024-08-10T20:17:07.790Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE"}}
[debug] [2024-08-10T20:17:07.790Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:17:07.790Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:17:08.077Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 287.029458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 287.029458ms"}}
[debug] [2024-08-10T20:17:08.077Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE"}}
[debug] [2024-08-10T20:17:08.078Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:17:08.078Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:17:08.078Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:18:28.478Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:18:29.483Z] Validating nodejs source
[debug] [2024-08-10T20:18:29.964Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:18:29.964Z] Building nodejs source
[debug] [2024-08-10T20:18:29.964Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:18:29.965Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:18:29.966Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8094

[debug] [2024-08-10T20:18:30.490Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:18:31.870Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:18:31.870Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:18:31.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:18:31.870Z"],"workRunningCount":1}
[debug] [2024-08-10T20:18:31.870Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:18:31.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:18:31.871Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:18:31.871Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:18:31.871Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: BUSY"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:18:31.959Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 87.844458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 87.844458ms"}}
[debug] [2024-08-10T20:18:31.959Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: IDLE"}}
[debug] [2024-08-10T20:18:31.959Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:18:31.959Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:18:31.959Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:18:35.509Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:18:35.509Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: FINISHING"}}
[debug] [2024-08-10T20:18:35.515Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: exited"}}
[debug] [2024-08-10T20:18:35.516Z] [worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-82613d6b-65f0-4570-8f1b-83405f3fca05]: FINISHED"}}
[debug] [2024-08-10T20:18:38.461Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:18:38.461Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:18:38.461Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:18:38.461Z"],"workRunningCount":1}
[debug] [2024-08-10T20:18:38.461Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:18:38.461Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:18:38.462Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:18:38.462Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:18:38.463Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:18:38.463Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:18:39.170Z] [runtime-status] [23459] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:18:39.171Z] [runtime-status] [23459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:18:39.171Z] [runtime-status] [23459] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:18:39.171Z] [runtime-status] [23459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:18:39.239Z] [runtime-status] [23459] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:18:39.240Z] [runtime-status] [23459] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:18:39.240Z] [runtime-status] [23459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:18:39.240Z] [runtime-status] [23459] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:18:39.240Z] [runtime-status] [23459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:18:39.241Z] [runtime-status] [23459] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:18:39.406Z] [runtime-status] [23459] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:18:39.417Z] [runtime-status] [23459] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:18:39.418Z] [runtime-status] [23459] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_36623dbcc44f8017.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23459] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_36623dbcc44f8017.sock"}}
[debug] [2024-08-10T20:18:39.480Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: IDLE"}}
[debug] [2024-08-10T20:18:39.480Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:18:39.480Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:18:39.802Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 322.168292ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 322.168292ms"}}
[debug] [2024-08-10T20:18:39.802Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: IDLE"}}
[debug] [2024-08-10T20:18:39.802Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:18:39.803Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:18:39.803Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:20:25.178Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:20:26.183Z] Validating nodejs source
[debug] [2024-08-10T20:20:26.723Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:20:26.723Z] Building nodejs source
[debug] [2024-08-10T20:20:26.723Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:20:26.727Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:20:26.728Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8087

[debug] [2024-08-10T20:20:27.281Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:20:32.294Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:20:32.294Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: FINISHING"}}
[debug] [2024-08-10T20:20:32.302Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: exited"}}
[debug] [2024-08-10T20:20:32.302Z] [worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-a150a028-46cf-468f-ac92-3d813649a12d]: FINISHED"}}
[debug] [2024-08-10T20:20:32.992Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:20:33.994Z] Validating nodejs source
[debug] [2024-08-10T20:20:34.364Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:20:34.364Z] Building nodejs source
[debug] [2024-08-10T20:20:34.364Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:20:34.365Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:20:34.365Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8831

[debug] [2024-08-10T20:20:34.679Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:20:40.885Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:20:40.885Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:20:40.885Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:20:40.885Z"],"workRunningCount":1}
[debug] [2024-08-10T20:20:40.885Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:20:40.886Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:20:40.886Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:20:40.886Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:20:40.887Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:20:40.887Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:20:41.592Z] [runtime-status] [23489] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:20:41.592Z] [runtime-status] [23489] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:20:41.592Z] [runtime-status] [23489] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:20:41.593Z] [runtime-status] [23489] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:20:41.657Z] [runtime-status] [23489] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:20:41.657Z] [runtime-status] [23489] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:20:41.657Z] [runtime-status] [23489] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:20:41.657Z] [runtime-status] [23489] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:20:41.658Z] [runtime-status] [23489] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:20:41.658Z] [runtime-status] [23489] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:20:41.816Z] [runtime-status] [23489] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:20:41.826Z] [runtime-status] [23489] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:20:41.826Z] [runtime-status] [23489] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_e3bea3ad5970d474.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23489] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_e3bea3ad5970d474.sock"}}
[debug] [2024-08-10T20:20:41.900Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE"}}
[debug] [2024-08-10T20:20:41.900Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:20:41.900Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:20:42.225Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 324.743459ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 324.743459ms"}}
[debug] [2024-08-10T20:20:42.225Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE"}}
[debug] [2024-08-10T20:20:42.225Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:20:42.225Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:20:42.225Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:21:04.503Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:21:05.505Z] Validating nodejs source
[debug] [2024-08-10T20:21:05.923Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:21:05.924Z] Building nodejs source
[debug] [2024-08-10T20:21:05.924Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:21:05.924Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:21:05.925Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8834

[debug] [2024-08-10T20:21:06.409Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:21:07.568Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:21:07.568Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:21:07.568Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:21:07.568Z"],"workRunningCount":1}
[debug] [2024-08-10T20:21:07.568Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:21:07.568Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:21:07.568Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:21:07.568Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:21:07.568Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY"}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:21:07.653Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 84.074583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 84.074583ms"}}
[debug] [2024-08-10T20:21:07.653Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE"}}
[debug] [2024-08-10T20:21:07.653Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:21:07.653Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:21:07.653Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:21:10.971Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:21:10.971Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:21:10.971Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:21:10.971Z"],"workRunningCount":1}
[debug] [2024-08-10T20:21:10.971Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:21:10.971Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:21:10.972Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:21:10.972Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:21:10.972Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: BUSY"}}
[info] >  date folders: {"user":"date folders:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m date folders:"}}
[info] >  [] {"user":[],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m []"}}
[debug] [2024-08-10T20:21:11.047Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 75.320916ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 75.320916ms"}}
[debug] [2024-08-10T20:21:11.047Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: IDLE"}}
[debug] [2024-08-10T20:21:11.047Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:21:11.047Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:21:11.047Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:21:11.418Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:21:11.418Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: FINISHING"}}
[debug] [2024-08-10T20:21:11.422Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: exited"}}
[debug] [2024-08-10T20:21:11.422Z] [worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-e3e475d5-1475-4840-9375-87d0f7b8b977]: FINISHED"}}
[debug] [2024-08-10T20:24:04.511Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:24:05.513Z] Validating nodejs source
[debug] [2024-08-10T20:24:06.000Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:24:06.001Z] Building nodejs source
[debug] [2024-08-10T20:24:06.001Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:24:06.002Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:24:06.004Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8647

[debug] [2024-08-10T20:24:06.573Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:24:13.872Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:24:14.875Z] Validating nodejs source
[debug] [2024-08-10T20:24:15.434Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:24:15.434Z] Building nodejs source
[debug] [2024-08-10T20:24:15.434Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:24:15.435Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:24:15.436Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8579

[debug] [2024-08-10T20:24:16.035Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:24:17.299Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:24:17.299Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:24:17.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:24:17.299Z"],"workRunningCount":1}
[debug] [2024-08-10T20:24:17.299Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:24:17.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:24:17.299Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:24:17.299Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:24:17.301Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:24:17.301Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:24:18.021Z] [runtime-status] [23546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:24:18.021Z] [runtime-status] [23546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:18.021Z] [runtime-status] [23546] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:24:18.022Z] [runtime-status] [23546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:18.089Z] [runtime-status] [23546] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:24:18.089Z] [runtime-status] [23546] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:24:18.089Z] [runtime-status] [23546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:18.089Z] [runtime-status] [23546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:24:18.090Z] [runtime-status] [23546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:18.090Z] [runtime-status] [23546] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:24:18.260Z] [runtime-status] [23546] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:24:18.264Z] [runtime-status] [23546] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:24:18.264Z] [runtime-status] [23546] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1bdc482086dc52be.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23546] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1bdc482086dc52be.sock"}}
[debug] [2024-08-10T20:24:18.318Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: IDLE"}}
[debug] [2024-08-10T20:24:18.318Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:24:18.318Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:24:18.979Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 660.982375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 660.982375ms"}}
[debug] [2024-08-10T20:24:18.979Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: IDLE"}}
[debug] [2024-08-10T20:24:18.980Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:24:18.980Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:24:18.980Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:24:21.048Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:24:21.048Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: FINISHING"}}
[debug] [2024-08-10T20:24:21.053Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: exited"}}
[debug] [2024-08-10T20:24:21.053Z] [worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ab265cba-cfa0-4700-b7d1-ed5aee0201f9]: FINISHED"}}
[debug] [2024-08-10T20:24:42.854Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:24:43.856Z] Validating nodejs source
[debug] [2024-08-10T20:24:44.312Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:24:44.312Z] Building nodejs source
[debug] [2024-08-10T20:24:44.312Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:24:44.312Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:24:44.313Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8686

[debug] [2024-08-10T20:24:44.947Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:24:45.681Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:24:45.681Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:24:45.681Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:24:45.681Z"],"workRunningCount":1}
[debug] [2024-08-10T20:24:45.681Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:24:45.682Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:24:45.682Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:24:45.682Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:24:45.683Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:24:45.683Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:24:46.309Z] [runtime-status] [23563] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:24:46.309Z] [runtime-status] [23563] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:46.310Z] [runtime-status] [23563] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:24:46.310Z] [runtime-status] [23563] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:46.372Z] [runtime-status] [23563] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:24:46.372Z] [runtime-status] [23563] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:24:46.372Z] [runtime-status] [23563] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:46.372Z] [runtime-status] [23563] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:24:46.373Z] [runtime-status] [23563] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:24:46.373Z] [runtime-status] [23563] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:24:46.540Z] [runtime-status] [23563] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:24:46.547Z] [runtime-status] [23563] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:24:46.548Z] [runtime-status] [23563] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fe5a8a186d21e633.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23563] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fe5a8a186d21e633.sock"}}
[debug] [2024-08-10T20:24:46.596Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: IDLE"}}
[debug] [2024-08-10T20:24:46.596Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:24:46.596Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  content/2024-08-04/ {"user":"content/2024-08-04/","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m content/2024-08-04/"}}
[debug] [2024-08-10T20:24:47.157Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 560.704917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 560.704917ms"}}
[debug] [2024-08-10T20:24:47.157Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: IDLE"}}
[debug] [2024-08-10T20:24:47.157Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:24:47.157Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:24:47.157Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:24:49.960Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:24:49.960Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: FINISHING"}}
[debug] [2024-08-10T20:24:49.965Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: exited"}}
[debug] [2024-08-10T20:24:49.965Z] [worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ae98132-ce22-4c1a-88f5-1369fe5e9c33]: FINISHED"}}
[debug] [2024-08-10T20:29:42.868Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:29:42.868Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:29:42.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:29:42.868Z"],"workRunningCount":1}
[debug] [2024-08-10T20:29:42.870Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:29:42.871Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:29:42.871Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:29:42.872Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:29:42.875Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:29:42.875Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:29:43.602Z] [runtime-status] [23750] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:29:43.603Z] [runtime-status] [23750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:29:43.603Z] [runtime-status] [23750] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:29:43.604Z] [runtime-status] [23750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:29:43.761Z] [runtime-status] [23750] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:29:43.764Z] [runtime-status] [23750] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:29:43.764Z] [runtime-status] [23750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:29:43.764Z] [runtime-status] [23750] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:29:43.764Z] [runtime-status] [23750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:29:43.764Z] [runtime-status] [23750] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:29:44.039Z] [runtime-status] [23750] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:29:44.043Z] [runtime-status] [23750] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:29:44.043Z] [runtime-status] [23750] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1e68db4ec85aaa9b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23750] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1e68db4ec85aaa9b.sock"}}
[debug] [2024-08-10T20:29:44.094Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE"}}
[debug] [2024-08-10T20:29:44.094Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:29:44.095Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  content/2024-08-04/ {"user":"content/2024-08-04/","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m content/2024-08-04/"}}
[debug] [2024-08-10T20:29:44.686Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 591.712375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 591.712375ms"}}
[debug] [2024-08-10T20:29:44.686Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE"}}
[debug] [2024-08-10T20:29:44.687Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:29:44.687Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:29:44.687Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:30:36.430Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:30:37.435Z] Validating nodejs source
[debug] [2024-08-10T20:30:38.041Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:30:38.042Z] Building nodejs source
[debug] [2024-08-10T20:30:38.042Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:30:38.043Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:30:38.044Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[debug] [2024-08-10T20:30:38.047Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:30:38.047Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:30:38.047Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:30:38.047Z"],"workRunningCount":1}
[debug] [2024-08-10T20:30:38.047Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:30:38.050Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:30:38.050Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:30:38.050Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:30:38.050Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: BUSY"}}
[info] Serving at port 8778

[info] >  content/2024-08-04/ {"user":"content/2024-08-04/","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m content/2024-08-04/"}}
[debug] [2024-08-10T20:30:38.235Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 184.570041ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 184.570041ms"}}
[debug] [2024-08-10T20:30:38.235Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: IDLE"}}
[debug] [2024-08-10T20:30:38.235Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:30:38.235Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:30:38.235Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:30:38.549Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:30:43.559Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:30:43.559Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: FINISHING"}}
[debug] [2024-08-10T20:30:43.565Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: exited"}}
[debug] [2024-08-10T20:30:43.565Z] [worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8ef68ad5-b146-4254-b36d-4ec515f7a9be]: FINISHED"}}
[debug] [2024-08-10T20:31:07.245Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:31:07.245Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:31:07.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:31:07.245Z"],"workRunningCount":1}
[debug] [2024-08-10T20:31:07.245Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:31:07.245Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:31:07.246Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:31:07.246Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:31:07.247Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:31:07.248Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:31:07.884Z] [runtime-status] [23775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:31:07.885Z] [runtime-status] [23775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:31:07.885Z] [runtime-status] [23775] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:31:07.885Z] [runtime-status] [23775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:31:08.008Z] [runtime-status] [23775] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:31:08.008Z] [runtime-status] [23775] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:31:08.009Z] [runtime-status] [23775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:31:08.009Z] [runtime-status] [23775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:31:08.010Z] [runtime-status] [23775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:31:08.010Z] [runtime-status] [23775] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:31:08.260Z] [runtime-status] [23775] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:31:08.265Z] [runtime-status] [23775] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:31:08.265Z] [runtime-status] [23775] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fa6fb61f8cd5e01e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23775] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fa6fb61f8cd5e01e.sock"}}
[debug] [2024-08-10T20:31:08.366Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE"}}
[debug] [2024-08-10T20:31:08.366Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:31:08.366Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: Error: A bucket name is needed to use Cloud Storage. {"user":"Error generating summary: Error: A bucket name is needed to use Cloud Storage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: Error: A bucket name is needed to use Cloud Storage."}}
[info] >      at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19) {"user":"    at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:31:08.712Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 346.36625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 346.36625ms"}}
[debug] [2024-08-10T20:31:08.713Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE"}}
[debug] [2024-08-10T20:31:08.713Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:31:08.713Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:31:08.713Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:31:55.229Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:31:56.230Z] Validating nodejs source
[debug] [2024-08-10T20:31:56.668Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:31:56.669Z] Building nodejs source
[debug] [2024-08-10T20:31:56.669Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:31:56.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:31:56.670Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8132

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:252
    const folderPath = content/${date}/;
                                ^

SyntaxError: Unexpected token '{'
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:31:56.786Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '{'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:32:35.736Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:32:36.739Z] Validating nodejs source
[debug] [2024-08-10T20:32:37.171Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:32:37.171Z] Building nodejs source
[debug] [2024-08-10T20:32:37.171Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:32:37.172Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:32:37.173Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8178

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:268
        text: Please generate a motivational and positive content piece for the below research paper. Avoid any negative or hateful language. The tone should be warm, encouraging, and empowering. Aim for a length of about 1,000 to 1,500 words.
                     ^^^^^^^^

SyntaxError: Unexpected identifier 'generate'
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:32:37.287Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier 'generate'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:33:22.108Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:33:23.111Z] Validating nodejs source
[debug] [2024-08-10T20:33:23.667Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:33:23.667Z] Building nodejs source
[debug] [2024-08-10T20:33:23.667Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:33:23.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:33:23.670Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8930

[debug] [2024-08-10T20:33:24.375Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:33:26.160Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:33:26.160Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:33:26.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:33:26.160Z"],"workRunningCount":1}
[debug] [2024-08-10T20:33:26.160Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:33:26.160Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:33:26.160Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:33:26.160Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:33:26.160Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: BUSY"}}
[info] >  Error generating summary: Error: A bucket name is needed to use Cloud Storage. {"user":"Error generating summary: Error: A bucket name is needed to use Cloud Storage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: Error: A bucket name is needed to use Cloud Storage."}}
[info] >      at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19) {"user":"    at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:189:28"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:33:26.236Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 75.4505ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 75.4505ms"}}
[debug] [2024-08-10T20:33:26.236Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: IDLE"}}
[debug] [2024-08-10T20:33:26.236Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:33:26.236Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:33:26.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:33:29.388Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:33:29.388Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: FINISHING"}}
[debug] [2024-08-10T20:33:29.395Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: exited"}}
[debug] [2024-08-10T20:33:29.395Z] [worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-ea2ee23a-2fac-4a84-9253-a124e212e34c]: FINISHED"}}
[debug] [2024-08-10T20:33:49.313Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:33:49.313Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:33:49.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:33:49.313Z"],"workRunningCount":1}
[debug] [2024-08-10T20:33:49.313Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:33:49.314Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:33:49.314Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:33:49.314Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:33:49.315Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:33:49.315Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:33:49.964Z] [runtime-status] [23838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:33:49.964Z] [runtime-status] [23838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:33:49.965Z] [runtime-status] [23838] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:33:49.965Z] [runtime-status] [23838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:33:50.092Z] [runtime-status] [23838] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:33:50.092Z] [runtime-status] [23838] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:33:50.092Z] [runtime-status] [23838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:33:50.093Z] [runtime-status] [23838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:33:50.094Z] [runtime-status] [23838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:33:50.094Z] [runtime-status] [23838] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:33:50.344Z] [runtime-status] [23838] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:33:50.349Z] [runtime-status] [23838] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:33:50.349Z] [runtime-status] [23838] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_6f59155937a0ba48.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23838] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_6f59155937a0ba48.sock"}}
[debug] [2024-08-10T20:33:50.432Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: IDLE"}}
[debug] [2024-08-10T20:33:50.432Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:33:50.432Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: Error: A bucket name is needed to use Cloud Storage. {"user":"Error generating summary: Error: A bucket name is needed to use Cloud Storage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: Error: A bucket name is needed to use Cloud Storage."}}
[info] >      at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19) {"user":"    at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Storage.bucket (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/storage.js:554:19)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:251:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:251:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:251:28"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:33:50.730Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 298.299958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 298.299958ms"}}
[debug] [2024-08-10T20:33:50.730Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: IDLE"}}
[debug] [2024-08-10T20:33:50.730Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:33:50.730Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:33:50.730Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:34:04.644Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:34:05.646Z] Validating nodejs source
[debug] [2024-08-10T20:34:06.069Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:34:06.069Z] Building nodejs source
[debug] [2024-08-10T20:34:06.069Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:34:06.069Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:34:06.070Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8533

[debug] [2024-08-10T20:34:06.537Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:34:11.560Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:34:11.560Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: FINISHING"}}
[debug] [2024-08-10T20:34:11.564Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: exited"}}
[debug] [2024-08-10T20:34:11.564Z] [worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-8b73d5f6-4ebd-48bb-8020-32b9d0f728e3]: FINISHED"}}
[debug] [2024-08-10T20:34:12.998Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:34:12.998Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:34:12.998Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:34:12.998Z"],"workRunningCount":1}
[debug] [2024-08-10T20:34:12.998Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:34:12.998Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:34:12.998Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:34:12.998Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:34:12.999Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:34:12.999Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:34:13.616Z] [runtime-status] [23853] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:34:13.616Z] [runtime-status] [23853] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:13.616Z] [runtime-status] [23853] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:34:13.616Z] [runtime-status] [23853] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:13.683Z] [runtime-status] [23853] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:34:13.683Z] [runtime-status] [23853] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:34:13.683Z] [runtime-status] [23853] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:13.684Z] [runtime-status] [23853] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:34:13.684Z] [runtime-status] [23853] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:13.684Z] [runtime-status] [23853] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:34:13.841Z] [runtime-status] [23853] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:34:13.849Z] [runtime-status] [23853] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:34:13.850Z] [runtime-status] [23853] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1e15e857e2c4009f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23853] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1e15e857e2c4009f.sock"}}
[debug] [2024-08-10T20:34:13.912Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: IDLE"}}
[debug] [2024-08-10T20:34:13.913Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:34:13.913Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:34:14.173Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 260.396083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 260.396083ms"}}
[debug] [2024-08-10T20:34:14.173Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: IDLE"}}
[debug] [2024-08-10T20:34:14.173Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:34:14.173Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:34:14.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:34:39.694Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:34:40.698Z] Validating nodejs source
[debug] [2024-08-10T20:34:41.137Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:34:41.137Z] Building nodejs source
[debug] [2024-08-10T20:34:41.137Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:34:41.138Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:34:41.139Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8558

[debug] [2024-08-10T20:34:41.625Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:34:43.531Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:34:44.532Z] Validating nodejs source
[debug] [2024-08-10T20:34:44.892Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:34:44.892Z] Building nodejs source
[debug] [2024-08-10T20:34:44.892Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:34:44.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:34:44.893Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8047

[debug] [2024-08-10T20:34:45.226Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:34:46.639Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:34:46.639Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: FINISHING"}}
[debug] [2024-08-10T20:34:46.643Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: exited"}}
[debug] [2024-08-10T20:34:46.643Z] [worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b5c76f5f-bece-4a13-85fa-6c95bb82044b]: FINISHED"}}
[debug] [2024-08-10T20:34:48.015Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:34:48.015Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:34:48.016Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:34:48.015Z"],"workRunningCount":1}
[debug] [2024-08-10T20:34:48.016Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:34:48.016Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:34:48.016Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:34:48.016Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:34:48.017Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:34:48.017Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:34:48.647Z] [runtime-status] [23885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:34:48.647Z] [runtime-status] [23885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:48.648Z] [runtime-status] [23885] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:34:48.648Z] [runtime-status] [23885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:48.723Z] [runtime-status] [23885] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:34:48.723Z] [runtime-status] [23885] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:34:48.723Z] [runtime-status] [23885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:48.724Z] [runtime-status] [23885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:34:48.724Z] [runtime-status] [23885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:34:48.724Z] [runtime-status] [23885] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:34:48.902Z] [runtime-status] [23885] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:34:48.910Z] [runtime-status] [23885] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:34:48.911Z] [runtime-status] [23885] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1db110d2f189a1d8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23885] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_1db110d2f189a1d8.sock"}}
[debug] [2024-08-10T20:34:48.932Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: IDLE"}}
[debug] [2024-08-10T20:34:48.932Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:34:48.932Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:34:49.204Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 271.522666ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 271.522666ms"}}
[debug] [2024-08-10T20:34:49.204Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: IDLE"}}
[debug] [2024-08-10T20:34:49.204Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:34:49.204Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:34:49.204Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:34:50.237Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:34:50.237Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: FINISHING"}}
[debug] [2024-08-10T20:34:50.241Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: exited"}}
[debug] [2024-08-10T20:34:50.241Z] [worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-da603df6-9394-4e6d-81e1-aa715819e40c]: FINISHED"}}
[debug] [2024-08-10T20:38:06.378Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:38:07.382Z] Validating nodejs source
[debug] [2024-08-10T20:38:07.857Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:38:07.857Z] Building nodejs source
[debug] [2024-08-10T20:38:07.857Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:38:07.858Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:38:07.859Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8574

[debug] [2024-08-10T20:38:08.373Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T20:38:09.441Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:38:09.441Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:38:09.441Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:38:09.441Z"],"workRunningCount":1}
[debug] [2024-08-10T20:38:09.441Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:38:09.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:38:09.441Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:38:09.441Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:38:09.442Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:38:09.442Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:38:10.141Z] [runtime-status] [23938] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:38:10.142Z] [runtime-status] [23938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:38:10.142Z] [runtime-status] [23938] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:38:10.142Z] [runtime-status] [23938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:38:10.213Z] [runtime-status] [23938] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:38:10.213Z] [runtime-status] [23938] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:38:10.213Z] [runtime-status] [23938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:38:10.214Z] [runtime-status] [23938] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:38:10.214Z] [runtime-status] [23938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:38:10.214Z] [runtime-status] [23938] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:38:10.381Z] [runtime-status] [23938] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:38:10.389Z] [runtime-status] [23938] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:38:10.390Z] [runtime-status] [23938] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_4766ac7c08322eae.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [23938] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_4766ac7c08322eae.sock"}}
[debug] [2024-08-10T20:38:10.455Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: IDLE"}}
[debug] [2024-08-10T20:38:10.455Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:38:10.455Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T20:38:11.079Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 624.254208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 624.254208ms"}}
[debug] [2024-08-10T20:38:11.080Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: IDLE"}}
[debug] [2024-08-10T20:38:11.080Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:38:11.080Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:38:11.080Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:38:13.392Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:38:13.392Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: FINISHING"}}
[debug] [2024-08-10T20:38:13.397Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: exited"}}
[debug] [2024-08-10T20:38:13.397Z] [worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-3d7c87b7-f8ff-4050-831f-386a2f0b2b58]: FINISHED"}}
[debug] [2024-08-10T20:49:48.820Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:49:49.832Z] Validating nodejs source
[debug] [2024-08-10T20:49:50.368Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:49:50.369Z] Building nodejs source
[debug] [2024-08-10T20:49:50.369Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:49:50.370Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:49:50.371Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8982

[debug] [2024-08-10T20:49:50.918Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:53:34.531Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:53:34.533Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers"}}
[debug] [2024-08-10T20:53:35.536Z] Validating nodejs source
[debug] [2024-08-10T20:53:36.007Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:53:36.007Z] Building nodejs source
[debug] [2024-08-10T20:53:36.007Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:53:36.008Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:53:36.009Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8347

[debug] [2024-08-10T20:53:36.542Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:54:19.718Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers"}}
[debug] [2024-08-10T20:54:20.719Z] Validating nodejs source
[debug] [2024-08-10T20:54:21.202Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:54:21.202Z] Building nodejs source
[debug] [2024-08-10T20:54:21.202Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:54:21.202Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:54:21.203Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8129

[debug] [2024-08-10T20:54:21.764Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:55:30.734Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:55:31.740Z] Validating nodejs source
[debug] [2024-08-10T20:55:32.208Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:55:32.208Z] Building nodejs source
[debug] [2024-08-10T20:55:32.208Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:55:32.209Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:55:32.210Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8826

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:196
    const bucket = storage.bucket();
          ^

SyntaxError: Identifier 'bucket' has already been declared
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:55:32.340Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'bucket' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:56:03.893Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:56:04.896Z] Validating nodejs source
[debug] [2024-08-10T20:56:05.347Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:56:05.347Z] Building nodejs source
[debug] [2024-08-10T20:56:05.347Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:56:05.347Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:56:05.348Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8527

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:196
    const bucket = storage.bucket();
          ^

SyntaxError: Identifier 'bucket' has already been declared
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:56:05.496Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'bucket' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:56:37.370Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:56:38.372Z] Validating nodejs source
[debug] [2024-08-10T20:56:38.810Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:56:38.810Z] Building nodejs source
[debug] [2024-08-10T20:56:38.810Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:56:38.811Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:56:38.812Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8719

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:198
    const bucket = storage.bucket();
          ^

SyntaxError: Identifier 'bucket' has already been declared
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:56:38.951Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'bucket' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-08-10T20:56:47.816Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:56:48.818Z] Validating nodejs source
[debug] [2024-08-10T20:56:49.234Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:56:49.234Z] Building nodejs source
[debug] [2024-08-10T20:56:49.234Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:56:49.234Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:56:49.235Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8328

[debug] [2024-08-10T20:56:49.747Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:56:56.222Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:56:56.222Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:56:56.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:56:56.222Z"],"workRunningCount":1}
[debug] [2024-08-10T20:56:56.223Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:56:56.223Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:56:56.223Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:56:56.223Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:56:56.224Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:56:56.224Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:56:56.946Z] [runtime-status] [24179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:56:56.947Z] [runtime-status] [24179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:56:56.947Z] [runtime-status] [24179] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:56:56.947Z] [runtime-status] [24179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:56:57.060Z] [runtime-status] [24179] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:56:57.060Z] [runtime-status] [24179] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:56:57.060Z] [runtime-status] [24179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:56:57.060Z] [runtime-status] [24179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:56:57.061Z] [runtime-status] [24179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:56:57.061Z] [runtime-status] [24179] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:56:57.305Z] [runtime-status] [24179] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:56:57.310Z] [runtime-status] [24179] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:56:57.310Z] [runtime-status] [24179] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_4580fe1e853eef5d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24179] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_4580fe1e853eef5d.sock"}}
[debug] [2024-08-10T20:56:57.340Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: IDLE"}}
[debug] [2024-08-10T20:56:57.340Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:56:57.340Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html {"user":"Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html"}}
[info] >      at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15) {"user":"    at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)"}}
[info] >      at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41) {"user":"    at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)"}}
[info] >      at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30) {"user":"    at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)"}}
[info] >      at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33) {"user":"    at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)"}}
[info] >      at Duplexify.emit (node:events:514:28) {"user":"    at Duplexify.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.emit (node:events:514:28)"}}
[info] >      at PassThrough.emit (node:events:514:28) {"user":"    at PassThrough.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:514:28)"}}
[info] >      at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19) {"user":"    at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)"}}
[info] >      at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11) {"user":"    at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)"}}
[info] >      at PassThrough.emit (node:events:526:35) {"user":"    at PassThrough.emit (node:events:526:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:526:35)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 { {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {"}}
[info] >    code: 404, {"user":"  code: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 404,"}}
[info] >    errors: [], {"user":"  errors: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   errors: [],"}}
[info] >    response: <ref *1> PassThrough { {"user":"  response: <ref *1> PassThrough {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   response: <ref *1> PassThrough {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        [Symbol(kState)]: 110426390 {"user":"      [Symbol(kState)]: 110426390","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 110426390"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        prefinish: [Function: prefinish], {"user":"      prefinish: [Function: prefinish],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       prefinish: [Function: prefinish],"}}
[info] >        error: [Array], {"user":"      error: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Array],"}}
[info] >        readable: [Function: next], {"user":"      readable: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       readable: [Function: next],"}}
[info] >        end: [Array], {"user":"      end: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       end: [Array],"}}
[info] >        finish: [Array], {"user":"      finish: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Array],"}}
[info] >        close: [Array] {"user":"      close: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       close: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 6, {"user":"    _eventsCount: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 6,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      _writableState: WritableState { {"user":"    _writableState: WritableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _writableState: WritableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        corked: 0, {"user":"      corked: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       corked: 0,"}}
[info] >        onwrite: [Function: bound onwrite], {"user":"      onwrite: [Function: bound onwrite],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       onwrite: [Function: bound onwrite],"}}
[info] >        writelen: 0, {"user":"      writelen: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       writelen: 0,"}}
[info] >        bufferedIndex: 0, {"user":"      bufferedIndex: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       bufferedIndex: 0,"}}
[info] >        pendingcb: 0, {"user":"      pendingcb: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pendingcb: 0,"}}
[info] >        [Symbol(kState)]: 34502630, {"user":"      [Symbol(kState)]: 34502630,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 34502630,"}}
[info] >        [Symbol(kBufferedValue)]: null {"user":"      [Symbol(kBufferedValue)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferedValue)]: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      allowHalfOpen: true, {"user":"    allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowHalfOpen: true,"}}
[info] >      statusCode: 404, {"user":"    statusCode: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 404,"}}
[info] >      statusMessage: 'Not Found', {"user":"    statusMessage: 'Not Found',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: 'Not Found',"}}
[info] >      request: { {"user":"    request: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     request: {"}}
[info] >        agent: [Agent], {"user":"      agent: [Agent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       agent: [Agent],"}}
[info] >        headers: [Object], {"user":"      headers: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       headers: [Object],"}}
[info] >        href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media' {"user":"      href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: [Circular *1], {"user":"    body: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: [Circular *1],"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url', {"user":"      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'content-length': '174', {"user":"      'content-length': '174',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '174',"}}
[info] >        'content-type': 'text/html; charset=utf-8', {"user":"      'content-type': 'text/html; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'text/html; charset=utf-8',"}}
[info] >        date: 'Sat, 10 Aug 2024 20:56:57 GMT', {"user":"      date: 'Sat, 10 Aug 2024 20:56:57 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 10 Aug 2024 20:56:57 GMT',"}}
[info] >        etag: 'W/"ae-ucTiz0NpmW9hU55+31guGb5NBGQ"', {"user":"      etag: 'W/\"ae-ucTiz0NpmW9hU55+31guGb5NBGQ\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       etag: 'W/\"ae-ucTiz0NpmW9hU55+31guGb5NBGQ\"',"}}
[info] >        'keep-alive': 'timeout=5', {"user":"      'keep-alive': 'timeout=5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'keep-alive': 'timeout=5',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-powered-by': 'Express' {"user":"      'x-powered-by': 'Express'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-powered-by': 'Express'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      toJSON: [Function: toJSON], {"user":"    toJSON: [Function: toJSON],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     toJSON: [Function: toJSON],"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kCallback)]: null {"user":"    [Symbol(kCallback)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCallback)]: null"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-08-10T20:56:57.737Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 397.058708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 397.058708ms"}}
[debug] [2024-08-10T20:56:57.738Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: IDLE"}}
[debug] [2024-08-10T20:56:57.738Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:56:57.738Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:56:57.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:58:23.482Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:58:24.495Z] Validating nodejs source
[debug] [2024-08-10T20:58:24.934Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:58:24.934Z] Building nodejs source
[debug] [2024-08-10T20:58:24.934Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:58:24.935Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:58:24.936Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8438

[debug] [2024-08-10T20:58:25.572Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:58:30.585Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:58:30.585Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: FINISHING"}}
[debug] [2024-08-10T20:58:30.593Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: exited"}}
[debug] [2024-08-10T20:58:30.593Z] [worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-0aa35f25-4570-429f-af37-e69885aceb1e]: FINISHED"}}
[debug] [2024-08-10T20:58:31.146Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:31.146Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:58:31.146Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:31.146Z"],"workRunningCount":1}
[debug] [2024-08-10T20:58:31.146Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:58:31.147Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:58:31.147Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:58:31.147Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:58:31.148Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:58:31.148Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:58:31.855Z] [runtime-status] [24246] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:58:31.855Z] [runtime-status] [24246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:31.855Z] [runtime-status] [24246] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:58:31.856Z] [runtime-status] [24246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:31.971Z] [runtime-status] [24246] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:58:31.971Z] [runtime-status] [24246] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:58:31.972Z] [runtime-status] [24246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:31.972Z] [runtime-status] [24246] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:58:31.973Z] [runtime-status] [24246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:31.973Z] [runtime-status] [24246] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:58:32.220Z] [runtime-status] [24246] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:58:32.225Z] [runtime-status] [24246] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:58:32.226Z] [runtime-status] [24246] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_99d8037d43a8d72f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24246] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_99d8037d43a8d72f.sock"}}
[debug] [2024-08-10T20:58:32.265Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE"}}
[debug] [2024-08-10T20:58:32.265Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:58:32.266Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ReferenceError: Cannot access 'bucket' before initialization {"user":"Error generating summary: ReferenceError: Cannot access 'bucket' before initialization","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ReferenceError: Cannot access 'bucket' before initialization"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:58:32.532Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 266.018917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 266.018917ms"}}
[debug] [2024-08-10T20:58:32.532Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE"}}
[debug] [2024-08-10T20:58:32.532Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:58:32.532Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:58:32.532Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:58:40.271Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:58:41.274Z] Validating nodejs source
[debug] [2024-08-10T20:58:41.715Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:58:41.715Z] Building nodejs source
[debug] [2024-08-10T20:58:41.715Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:58:41.716Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:58:41.716Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8289

[error] /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:198
   const bucket = storage.bucket();
         ^

SyntaxError: Identifier 'bucket' has already been declared
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2024-08-10T20:58:41.825Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'bucket' has already been declared
[debug] [2024-08-10T20:58:43.612Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:58:44.613Z] Validating nodejs source
[debug] [2024-08-10T20:58:44.990Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:58:44.991Z] Building nodejs source
[debug] [2024-08-10T20:58:44.991Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:58:44.991Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:58:44.992Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[debug] [2024-08-10T20:58:44.993Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:44.993Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:58:44.993Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:44.993Z"],"workRunningCount":1}
[debug] [2024-08-10T20:58:44.993Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:58:44.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:58:44.994Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:58:44.994Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:58:44.994Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: BUSY"}}
[info] >  Error generating summary: ReferenceError: Cannot access 'bucket' before initialization {"user":"Error generating summary: ReferenceError: Cannot access 'bucket' before initialization","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ReferenceError: Cannot access 'bucket' before initialization"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:191:28"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T20:58:45.064Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 70.263875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 70.263875ms"}}
[debug] [2024-08-10T20:58:45.064Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: IDLE"}}
[debug] [2024-08-10T20:58:45.064Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:58:45.064Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:58:45.064Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Serving at port 8188

[debug] [2024-08-10T20:58:45.443Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:58:50.456Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:58:50.456Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: FINISHING"}}
[debug] [2024-08-10T20:58:50.459Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: exited"}}
[debug] [2024-08-10T20:58:50.459Z] [worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2220f75e-8664-489b-a000-c0d326d0639d]: FINISHED"}}
[debug] [2024-08-10T20:58:52.306Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:52.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:58:52.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T20:58:52.306Z"],"workRunningCount":1}
[debug] [2024-08-10T20:58:52.306Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T20:58:52.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T20:58:52.307Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T20:58:52.307Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:58:52.308Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T20:58:52.308Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T20:58:52.921Z] [runtime-status] [24278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:58:52.922Z] [runtime-status] [24278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:52.922Z] [runtime-status] [24278] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T20:58:52.922Z] [runtime-status] [24278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:52.989Z] [runtime-status] [24278] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T20:58:52.989Z] [runtime-status] [24278] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T20:58:52.989Z] [runtime-status] [24278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:52.990Z] [runtime-status] [24278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T20:58:52.990Z] [runtime-status] [24278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T20:58:52.990Z] [runtime-status] [24278] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T20:58:53.162Z] [runtime-status] [24278] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T20:58:53.171Z] [runtime-status] [24278] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T20:58:53.172Z] [runtime-status] [24278] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_b054920538d15e01.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24278] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_b054920538d15e01.sock"}}
[debug] [2024-08-10T20:58:53.219Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: IDLE"}}
[debug] [2024-08-10T20:58:53.219Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T20:58:53.219Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/gs://together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html {"user":"Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/gs://together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/gs://together-we-can-with-gemini.appspot.com/content/2024-08-04/Assessing global drinking water potential from electricity-free solar water evaporation device.html"}}
[info] >      at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15) {"user":"    at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)"}}
[info] >      at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41) {"user":"    at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)"}}
[info] >      at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30) {"user":"    at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)"}}
[info] >      at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33) {"user":"    at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)"}}
[info] >      at Duplexify.emit (node:events:514:28) {"user":"    at Duplexify.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.emit (node:events:514:28)"}}
[info] >      at PassThrough.emit (node:events:514:28) {"user":"    at PassThrough.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:514:28)"}}
[info] >      at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19) {"user":"    at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)"}}
[info] >      at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11) {"user":"    at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)"}}
[info] >      at PassThrough.emit (node:events:526:35) {"user":"    at PassThrough.emit (node:events:526:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:526:35)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 { {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {"}}
[info] >    code: 404, {"user":"  code: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 404,"}}
[info] >    errors: [], {"user":"  errors: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   errors: [],"}}
[info] >    response: <ref *1> PassThrough { {"user":"  response: <ref *1> PassThrough {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   response: <ref *1> PassThrough {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        [Symbol(kState)]: 110426390 {"user":"      [Symbol(kState)]: 110426390","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 110426390"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        prefinish: [Function: prefinish], {"user":"      prefinish: [Function: prefinish],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       prefinish: [Function: prefinish],"}}
[info] >        error: [Array], {"user":"      error: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Array],"}}
[info] >        readable: [Function: next], {"user":"      readable: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       readable: [Function: next],"}}
[info] >        end: [Array], {"user":"      end: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       end: [Array],"}}
[info] >        finish: [Array], {"user":"      finish: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Array],"}}
[info] >        close: [Array] {"user":"      close: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       close: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 6, {"user":"    _eventsCount: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 6,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      _writableState: WritableState { {"user":"    _writableState: WritableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _writableState: WritableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        corked: 0, {"user":"      corked: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       corked: 0,"}}
[info] >        onwrite: [Function: bound onwrite], {"user":"      onwrite: [Function: bound onwrite],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       onwrite: [Function: bound onwrite],"}}
[info] >        writelen: 0, {"user":"      writelen: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       writelen: 0,"}}
[info] >        bufferedIndex: 0, {"user":"      bufferedIndex: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       bufferedIndex: 0,"}}
[info] >        pendingcb: 0, {"user":"      pendingcb: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pendingcb: 0,"}}
[info] >        [Symbol(kState)]: 34502630, {"user":"      [Symbol(kState)]: 34502630,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 34502630,"}}
[info] >        [Symbol(kBufferedValue)]: null {"user":"      [Symbol(kBufferedValue)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferedValue)]: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      allowHalfOpen: true, {"user":"    allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowHalfOpen: true,"}}
[info] >      statusCode: 404, {"user":"    statusCode: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 404,"}}
[info] >      statusMessage: 'Not Found', {"user":"    statusMessage: 'Not Found',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: 'Not Found',"}}
[info] >      request: { {"user":"    request: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     request: {"}}
[info] >        agent: [Agent], {"user":"      agent: [Agent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       agent: [Agent],"}}
[info] >        headers: [Object], {"user":"      headers: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       headers: [Object],"}}
[info] >        href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/gs%3A%2F%2Ftogether-we-can-with-gemini.appspot.com%2Fcontent%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media' {"user":"      href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/gs%3A%2F%2Ftogether-we-can-with-gemini.appspot.com%2Fcontent%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/gs%3A%2F%2Ftogether-we-can-with-gemini.appspot.com%2Fcontent%2F2024-08-04%2FAssessing%20global%20drinking%20water%20potential%20from%20electricity-free%20solar%20water%20evaporation%20device.html?alt=media'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: [Circular *1], {"user":"    body: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: [Circular *1],"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url', {"user":"      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'content-length': '219', {"user":"      'content-length': '219',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '219',"}}
[info] >        'content-type': 'text/html; charset=utf-8', {"user":"      'content-type': 'text/html; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'text/html; charset=utf-8',"}}
[info] >        date: 'Sat, 10 Aug 2024 20:58:53 GMT', {"user":"      date: 'Sat, 10 Aug 2024 20:58:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 10 Aug 2024 20:58:53 GMT',"}}
[info] >        etag: 'W/"db-Ggm8Wb/pLAHwYTE2N76i0aepM7M"', {"user":"      etag: 'W/\"db-Ggm8Wb/pLAHwYTE2N76i0aepM7M\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       etag: 'W/\"db-Ggm8Wb/pLAHwYTE2N76i0aepM7M\"',"}}
[info] >        'keep-alive': 'timeout=5', {"user":"      'keep-alive': 'timeout=5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'keep-alive': 'timeout=5',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-powered-by': 'Express' {"user":"      'x-powered-by': 'Express'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-powered-by': 'Express'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      toJSON: [Function: toJSON], {"user":"    toJSON: [Function: toJSON],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     toJSON: [Function: toJSON],"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kCallback)]: null {"user":"    [Symbol(kCallback)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCallback)]: null"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-08-10T20:58:53.551Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 332.109834ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 332.109834ms"}}
[debug] [2024-08-10T20:58:53.552Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: IDLE"}}
[debug] [2024-08-10T20:58:53.552Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T20:58:53.552Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T20:58:53.552Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T20:59:19.983Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:59:20.986Z] Validating nodejs source
[debug] [2024-08-10T20:59:21.455Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:59:21.456Z] Building nodejs source
[debug] [2024-08-10T20:59:21.456Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:59:21.457Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:59:21.458Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8366

[debug] [2024-08-10T20:59:22.000Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T20:59:27.022Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T20:59:27.022Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: FINISHING"}}
[debug] [2024-08-10T20:59:27.034Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: exited"}}
[debug] [2024-08-10T20:59:27.034Z] [worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-2e27cdf4-7d4c-4666-991f-3c8a6ad0d94a]: FINISHED"}}
[debug] [2024-08-10T20:59:56.955Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T20:59:57.957Z] Validating nodejs source
[debug] [2024-08-10T20:59:58.409Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T20:59:58.409Z] Building nodejs source
[debug] [2024-08-10T20:59:58.409Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T20:59:58.410Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T20:59:58.411Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8253

[debug] [2024-08-10T20:59:58.976Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:00:04.411Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:00:04.411Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:00:04.411Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:00:04.411Z"],"workRunningCount":1}
[debug] [2024-08-10T21:00:04.411Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:00:04.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:00:04.412Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:00:04.412Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:00:04.413Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:00:04.413Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:00:05.145Z] [runtime-status] [24337] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:00:05.146Z] [runtime-status] [24337] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:00:05.146Z] [runtime-status] [24337] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:00:05.146Z] [runtime-status] [24337] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:00:05.261Z] [runtime-status] [24337] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:00:05.261Z] [runtime-status] [24337] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:00:05.261Z] [runtime-status] [24337] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:00:05.262Z] [runtime-status] [24337] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:00:05.262Z] [runtime-status] [24337] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:00:05.263Z] [runtime-status] [24337] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:00:05.509Z] [runtime-status] [24337] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:00:05.513Z] [runtime-status] [24337] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:00:05.515Z] [runtime-status] [24337] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_8380a812d4d22766.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24337] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_8380a812d4d22766.sock"}}
[debug] [2024-08-10T21:00:05.528Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE"}}
[debug] [2024-08-10T21:00:05.528Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:00:05.529Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html {"user":"Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html"}}
[info] >      at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15) {"user":"    at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)"}}
[info] >      at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41) {"user":"    at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)"}}
[info] >      at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30) {"user":"    at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)"}}
[info] >      at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33) {"user":"    at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)"}}
[info] >      at Duplexify.emit (node:events:514:28) {"user":"    at Duplexify.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.emit (node:events:514:28)"}}
[info] >      at PassThrough.emit (node:events:514:28) {"user":"    at PassThrough.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:514:28)"}}
[info] >      at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19) {"user":"    at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)"}}
[info] >      at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11) {"user":"    at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)"}}
[info] >      at PassThrough.emit (node:events:526:35) {"user":"    at PassThrough.emit (node:events:526:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:526:35)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 { {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {"}}
[info] >    code: 404, {"user":"  code: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 404,"}}
[info] >    errors: [], {"user":"  errors: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   errors: [],"}}
[info] >    response: <ref *1> PassThrough { {"user":"  response: <ref *1> PassThrough {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   response: <ref *1> PassThrough {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        [Symbol(kState)]: 110426390 {"user":"      [Symbol(kState)]: 110426390","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 110426390"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        prefinish: [Function: prefinish], {"user":"      prefinish: [Function: prefinish],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       prefinish: [Function: prefinish],"}}
[info] >        error: [Array], {"user":"      error: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Array],"}}
[info] >        readable: [Function: next], {"user":"      readable: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       readable: [Function: next],"}}
[info] >        end: [Array], {"user":"      end: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       end: [Array],"}}
[info] >        finish: [Array], {"user":"      finish: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Array],"}}
[info] >        close: [Array] {"user":"      close: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       close: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 6, {"user":"    _eventsCount: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 6,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      _writableState: WritableState { {"user":"    _writableState: WritableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _writableState: WritableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        corked: 0, {"user":"      corked: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       corked: 0,"}}
[info] >        onwrite: [Function: bound onwrite], {"user":"      onwrite: [Function: bound onwrite],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       onwrite: [Function: bound onwrite],"}}
[info] >        writelen: 0, {"user":"      writelen: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       writelen: 0,"}}
[info] >        bufferedIndex: 0, {"user":"      bufferedIndex: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       bufferedIndex: 0,"}}
[info] >        pendingcb: 0, {"user":"      pendingcb: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pendingcb: 0,"}}
[info] >        [Symbol(kState)]: 34502630, {"user":"      [Symbol(kState)]: 34502630,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 34502630,"}}
[info] >        [Symbol(kBufferedValue)]: null {"user":"      [Symbol(kBufferedValue)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferedValue)]: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      allowHalfOpen: true, {"user":"    allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowHalfOpen: true,"}}
[info] >      statusCode: 404, {"user":"    statusCode: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 404,"}}
[info] >      statusMessage: 'Not Found', {"user":"    statusMessage: 'Not Found',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: 'Not Found',"}}
[info] >      request: { {"user":"    request: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     request: {"}}
[info] >        agent: [Agent], {"user":"      agent: [Agent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       agent: [Agent],"}}
[info] >        headers: [Object], {"user":"      headers: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       headers: [Object],"}}
[info] >        href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media' {"user":"      href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: [Circular *1], {"user":"    body: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: [Circular *1],"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url', {"user":"      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'content-length': '81', {"user":"      'content-length': '81',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '81',"}}
[info] >        'content-type': 'text/html; charset=utf-8', {"user":"      'content-type': 'text/html; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'text/html; charset=utf-8',"}}
[info] >        date: 'Sat, 10 Aug 2024 21:00:05 GMT', {"user":"      date: 'Sat, 10 Aug 2024 21:00:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 10 Aug 2024 21:00:05 GMT',"}}
[info] >        etag: 'W/"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto"', {"user":"      etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',"}}
[info] >        'keep-alive': 'timeout=5', {"user":"      'keep-alive': 'timeout=5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'keep-alive': 'timeout=5',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-powered-by': 'Express' {"user":"      'x-powered-by': 'Express'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-powered-by': 'Express'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      toJSON: [Function: toJSON], {"user":"    toJSON: [Function: toJSON],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     toJSON: [Function: toJSON],"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kCallback)]: null {"user":"    [Symbol(kCallback)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCallback)]: null"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-08-10T21:00:05.852Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 323.062417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 323.062417ms"}}
[debug] [2024-08-10T21:00:05.852Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE"}}
[debug] [2024-08-10T21:00:05.852Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:00:05.852Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:00:05.852Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:01:32.480Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:01:33.484Z] Validating nodejs source
[debug] [2024-08-10T21:01:33.952Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "firebase-admin/storage": "12.3.1",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:01:33.952Z] Building nodejs source
[debug] [2024-08-10T21:01:33.952Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:01:33.953Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:01:33.954Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8410

[debug] [2024-08-10T21:01:34.487Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T21:01:39.150Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:01:39.150Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:01:39.150Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:01:39.150Z"],"workRunningCount":1}
[debug] [2024-08-10T21:01:39.150Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:01:39.150Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:01:39.150Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:01:39.150Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:01:39.151Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: BUSY"}}
[info] >  Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html {"user":"Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html"}}
[info] >      at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15) {"user":"    at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)"}}
[info] >      at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41) {"user":"    at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)"}}
[info] >      at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30) {"user":"    at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)"}}
[info] >      at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33) {"user":"    at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)"}}
[info] >      at Duplexify.emit (node:events:514:28) {"user":"    at Duplexify.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.emit (node:events:514:28)"}}
[info] >      at PassThrough.emit (node:events:514:28) {"user":"    at PassThrough.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:514:28)"}}
[info] >      at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19) {"user":"    at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)"}}
[info] >      at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11) {"user":"    at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)"}}
[info] >      at PassThrough.emit (node:events:526:35) {"user":"    at PassThrough.emit (node:events:526:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:526:35)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 { {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {"}}
[info] >    code: 404, {"user":"  code: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 404,"}}
[info] >    errors: [], {"user":"  errors: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   errors: [],"}}
[info] >    response: <ref *1> PassThrough { {"user":"  response: <ref *1> PassThrough {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   response: <ref *1> PassThrough {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        [Symbol(kState)]: 110426390 {"user":"      [Symbol(kState)]: 110426390","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 110426390"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        prefinish: [Function: prefinish], {"user":"      prefinish: [Function: prefinish],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       prefinish: [Function: prefinish],"}}
[info] >        error: [Array], {"user":"      error: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Array],"}}
[info] >        readable: [Function: next], {"user":"      readable: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       readable: [Function: next],"}}
[info] >        end: [Array], {"user":"      end: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       end: [Array],"}}
[info] >        finish: [Array], {"user":"      finish: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Array],"}}
[info] >        close: [Array] {"user":"      close: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       close: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 6, {"user":"    _eventsCount: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 6,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      _writableState: WritableState { {"user":"    _writableState: WritableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _writableState: WritableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        corked: 0, {"user":"      corked: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       corked: 0,"}}
[info] >        onwrite: [Function: bound onwrite], {"user":"      onwrite: [Function: bound onwrite],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       onwrite: [Function: bound onwrite],"}}
[info] >        writelen: 0, {"user":"      writelen: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       writelen: 0,"}}
[info] >        bufferedIndex: 0, {"user":"      bufferedIndex: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       bufferedIndex: 0,"}}
[info] >        pendingcb: 0, {"user":"      pendingcb: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pendingcb: 0,"}}
[info] >        [Symbol(kState)]: 34502630, {"user":"      [Symbol(kState)]: 34502630,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 34502630,"}}
[info] >        [Symbol(kBufferedValue)]: null {"user":"      [Symbol(kBufferedValue)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferedValue)]: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      allowHalfOpen: true, {"user":"    allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowHalfOpen: true,"}}
[info] >      statusCode: 404, {"user":"    statusCode: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 404,"}}
[info] >      statusMessage: 'Not Found', {"user":"    statusMessage: 'Not Found',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: 'Not Found',"}}
[info] >      request: { {"user":"    request: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     request: {"}}
[info] >        agent: [Agent], {"user":"      agent: [Agent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       agent: [Agent],"}}
[info] >        headers: [Object], {"user":"      headers: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       headers: [Object],"}}
[info] >        href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media' {"user":"      href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: [Circular *1], {"user":"    body: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: [Circular *1],"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url', {"user":"      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'content-length': '81', {"user":"      'content-length': '81',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '81',"}}
[info] >        'content-type': 'text/html; charset=utf-8', {"user":"      'content-type': 'text/html; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'text/html; charset=utf-8',"}}
[info] >        date: 'Sat, 10 Aug 2024 21:01:39 GMT', {"user":"      date: 'Sat, 10 Aug 2024 21:01:39 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 10 Aug 2024 21:01:39 GMT',"}}
[info] >        etag: 'W/"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto"', {"user":"      etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',"}}
[info] >        'keep-alive': 'timeout=5', {"user":"      'keep-alive': 'timeout=5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'keep-alive': 'timeout=5',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-powered-by': 'Express' {"user":"      'x-powered-by': 'Express'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-powered-by': 'Express'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      toJSON: [Function: toJSON], {"user":"    toJSON: [Function: toJSON],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     toJSON: [Function: toJSON],"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kCallback)]: null {"user":"    [Symbol(kCallback)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCallback)]: null"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-08-10T21:01:39.255Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 104.474583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 104.474583ms"}}
[debug] [2024-08-10T21:01:39.255Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: IDLE"}}
[debug] [2024-08-10T21:01:39.255Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:01:39.255Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:01:39.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:01:39.498Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:01:39.498Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: FINISHING"}}
[debug] [2024-08-10T21:01:39.505Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: exited"}}
[debug] [2024-08-10T21:01:39.505Z] [worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d4703546-b766-4362-99e4-54805e0fb4ac]: FINISHED"}}
[debug] [2024-08-10T21:01:41.732Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:01:41.732Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:01:41.732Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:01:41.732Z"],"workRunningCount":1}
[debug] [2024-08-10T21:01:41.732Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:01:41.732Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:01:41.732Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:01:41.732Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:01:41.733Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:01:41.733Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:01:42.358Z] [runtime-status] [24398] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:01:42.358Z] [runtime-status] [24398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:01:42.358Z] [runtime-status] [24398] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:01:42.359Z] [runtime-status] [24398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:01:42.479Z] [runtime-status] [24398] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:01:42.480Z] [runtime-status] [24398] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:01:42.480Z] [runtime-status] [24398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:01:42.480Z] [runtime-status] [24398] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:01:42.481Z] [runtime-status] [24398] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:01:42.481Z] [runtime-status] [24398] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:01:42.728Z] [runtime-status] [24398] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:01:42.732Z] [runtime-status] [24398] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:01:42.733Z] [runtime-status] [24398] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fde1c574108da239.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24398] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_fde1c574108da239.sock"}}
[debug] [2024-08-10T21:01:42.747Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: IDLE"}}
[debug] [2024-08-10T21:01:42.747Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:01:42.747Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html {"user":"Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ApiError: No such object: together-we-can-with-gemini.appspot.com/content/2024-08-04/1.html"}}
[info] >      at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15) {"user":"    at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new ApiError (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:114:15)"}}
[info] >      at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41) {"user":"    at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.parseHttpRespMessage (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:220:41)"}}
[info] >      at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30) {"user":"    at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Util.handleResp (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/nodejs-common/util.js:192:30)"}}
[info] >      at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33) {"user":"    at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/@google-cloud/storage/build/cjs/src/file.js:1130:33)"}}
[info] >      at Duplexify.emit (node:events:514:28) {"user":"    at Duplexify.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Duplexify.emit (node:events:514:28)"}}
[info] >      at PassThrough.emit (node:events:514:28) {"user":"    at PassThrough.emit (node:events:514:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:514:28)"}}
[info] >      at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19) {"user":"    at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at onResponse (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:253:19)"}}
[info] >      at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11) {"user":"    at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.<anonymous> (/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/retry-request/index.js:183:11)"}}
[info] >      at PassThrough.emit (node:events:526:35) {"user":"    at PassThrough.emit (node:events:526:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at PassThrough.emit (node:events:526:35)"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 { {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/teeny-request/build/src/index.js:191:27 {"}}
[info] >    code: 404, {"user":"  code: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 404,"}}
[info] >    errors: [], {"user":"  errors: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   errors: [],"}}
[info] >    response: <ref *1> PassThrough { {"user":"  response: <ref *1> PassThrough {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   response: <ref *1> PassThrough {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        [Symbol(kState)]: 110426390 {"user":"      [Symbol(kState)]: 110426390","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 110426390"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        prefinish: [Function: prefinish], {"user":"      prefinish: [Function: prefinish],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       prefinish: [Function: prefinish],"}}
[info] >        error: [Array], {"user":"      error: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Array],"}}
[info] >        readable: [Function: next], {"user":"      readable: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       readable: [Function: next],"}}
[info] >        end: [Array], {"user":"      end: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       end: [Array],"}}
[info] >        finish: [Array], {"user":"      finish: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Array],"}}
[info] >        close: [Array] {"user":"      close: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       close: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 6, {"user":"    _eventsCount: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 6,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      _writableState: WritableState { {"user":"    _writableState: WritableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     _writableState: WritableState {"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        corked: 0, {"user":"      corked: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       corked: 0,"}}
[info] >        onwrite: [Function: bound onwrite], {"user":"      onwrite: [Function: bound onwrite],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       onwrite: [Function: bound onwrite],"}}
[info] >        writelen: 0, {"user":"      writelen: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       writelen: 0,"}}
[info] >        bufferedIndex: 0, {"user":"      bufferedIndex: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       bufferedIndex: 0,"}}
[info] >        pendingcb: 0, {"user":"      pendingcb: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       pendingcb: 0,"}}
[info] >        [Symbol(kState)]: 34502630, {"user":"      [Symbol(kState)]: 34502630,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kState)]: 34502630,"}}
[info] >        [Symbol(kBufferedValue)]: null {"user":"      [Symbol(kBufferedValue)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferedValue)]: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      allowHalfOpen: true, {"user":"    allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowHalfOpen: true,"}}
[info] >      statusCode: 404, {"user":"    statusCode: 404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 404,"}}
[info] >      statusMessage: 'Not Found', {"user":"    statusMessage: 'Not Found',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: 'Not Found',"}}
[info] >      request: { {"user":"    request: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     request: {"}}
[info] >        agent: [Agent], {"user":"      agent: [Agent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       agent: [Agent],"}}
[info] >        headers: [Object], {"user":"      headers: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       headers: [Object],"}}
[info] >        href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media' {"user":"      href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: 'http://127.0.0.1:9199/b/together-we-can-with-gemini.appspot.com/o/content%2F2024-08-04%2F1.html?alt=media'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: [Circular *1], {"user":"    body: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: [Circular *1],"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url', {"user":"      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'content-length': '81', {"user":"      'content-length': '81',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '81',"}}
[info] >        'content-type': 'text/html; charset=utf-8', {"user":"      'content-type': 'text/html; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'text/html; charset=utf-8',"}}
[info] >        date: 'Sat, 10 Aug 2024 21:01:43 GMT', {"user":"      date: 'Sat, 10 Aug 2024 21:01:43 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 10 Aug 2024 21:01:43 GMT',"}}
[info] >        etag: 'W/"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto"', {"user":"      etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       etag: 'W/\"51-iSLo2Q2d9FwGuj9kRLEtAPj1Hto\"',"}}
[info] >        'keep-alive': 'timeout=5', {"user":"      'keep-alive': 'timeout=5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'keep-alive': 'timeout=5',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-powered-by': 'Express' {"user":"      'x-powered-by': 'Express'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-powered-by': 'Express'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      toJSON: [Function: toJSON], {"user":"    toJSON: [Function: toJSON],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     toJSON: [Function: toJSON],"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kCallback)]: null {"user":"    [Symbol(kCallback)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCallback)]: null"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-08-10T21:01:43.078Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 330.941833ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 330.941833ms"}}
[debug] [2024-08-10T21:01:43.079Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: IDLE"}}
[debug] [2024-08-10T21:01:43.079Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:01:43.079Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:01:43.079Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:03:51.985Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:03:51.987Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/package.json changed, reloading triggers"}}
[debug] [2024-08-10T21:03:52.990Z] Validating nodejs source
[debug] [2024-08-10T21:03:53.574Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:03:53.574Z] Building nodejs source
[debug] [2024-08-10T21:03:53.574Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:03:53.575Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:03:53.576Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8588

[debug] [2024-08-10T21:03:54.109Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:03:59.131Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:03:59.131Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: FINISHING"}}
[debug] [2024-08-10T21:03:59.143Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: exited"}}
[debug] [2024-08-10T21:03:59.143Z] [worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-d3f4b8d8-03f4-40bb-b839-c660f796c01e]: FINISHED"}}
[debug] [2024-08-10T21:04:23.414Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:04:24.420Z] Validating nodejs source
[debug] [2024-08-10T21:04:24.874Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:04:24.874Z] Building nodejs source
[debug] [2024-08-10T21:04:24.874Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:04:24.874Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:04:24.875Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8959

[debug] [2024-08-10T21:04:25.367Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-08-10T21:04:29.893Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:04:30.894Z] Validating nodejs source
[debug] [2024-08-10T21:04:31.268Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:04:31.268Z] Building nodejs source
[debug] [2024-08-10T21:04:31.268Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:04:31.270Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:04:31.271Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8748

[debug] [2024-08-10T21:04:31.600Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:04:37.597Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:04:38.600Z] Validating nodejs source
[debug] [2024-08-10T21:04:38.979Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:04:38.980Z] Building nodejs source
[debug] [2024-08-10T21:04:38.980Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:04:38.980Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:04:38.981Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8887

[debug] [2024-08-10T21:04:39.290Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:05:05.303Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:05:06.305Z] Validating nodejs source
[debug] [2024-08-10T21:05:06.788Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:05:06.788Z] Building nodejs source
[debug] [2024-08-10T21:05:06.788Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:05:06.789Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:05:06.789Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8543

[debug] [2024-08-10T21:05:07.414Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:05:39.906Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:05:40.908Z] Validating nodejs source
[debug] [2024-08-10T21:05:41.345Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:05:41.345Z] Building nodejs source
[debug] [2024-08-10T21:05:41.345Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:05:41.347Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:05:41.348Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8907

[debug] [2024-08-10T21:05:41.820Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:05:52.290Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:05:52.290Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:05:52.290Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:05:52.290Z"],"workRunningCount":1}
[debug] [2024-08-10T21:05:52.290Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:05:52.290Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:05:52.290Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:05:52.290Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:05:52.292Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:05:52.292Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:05:53.003Z] [runtime-status] [24491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:05:53.004Z] [runtime-status] [24491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:05:53.004Z] [runtime-status] [24491] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:05:53.004Z] [runtime-status] [24491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:05:53.140Z] [runtime-status] [24491] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:05:53.140Z] [runtime-status] [24491] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:05:53.140Z] [runtime-status] [24491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:05:53.140Z] [runtime-status] [24491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:05:53.141Z] [runtime-status] [24491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:05:53.141Z] [runtime-status] [24491] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:05:53.397Z] [runtime-status] [24491] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:05:53.402Z] [runtime-status] [24491] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:05:53.402Z] [runtime-status] [24491] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_34f0873604009e2f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24491] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_34f0873604009e2f.sock"}}
[debug] [2024-08-10T21:05:53.409Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: IDLE"}}
[debug] [2024-08-10T21:05:53.409Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:05:53.409Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: ReferenceError: translateAPI is not defined {"user":"Error generating summary: ReferenceError: translateAPI is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: ReferenceError: translateAPI is not defined"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:228:33 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:228:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:228:33"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T21:05:59.618Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 6209.063333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 6209.063333ms"}}
[debug] [2024-08-10T21:05:59.618Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: IDLE"}}
[debug] [2024-08-10T21:05:59.618Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:05:59.618Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:05:59.618Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:06:47.613Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:06:48.617Z] Validating nodejs source
[debug] [2024-08-10T21:06:49.079Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:06:49.079Z] Building nodejs source
[debug] [2024-08-10T21:06:49.079Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:06:49.080Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:06:49.080Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8926

[debug] [2024-08-10T21:06:49.572Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:06:54.613Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:06:54.613Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: FINISHING"}}
[debug] [2024-08-10T21:06:54.619Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: exited"}}
[debug] [2024-08-10T21:06:54.619Z] [worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-5a49a095-9dde-4901-a334-aa0bec616dcf]: FINISHED"}}
[debug] [2024-08-10T21:06:59.704Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:06:59.704Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:06:59.704Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:06:59.704Z"],"workRunningCount":1}
[debug] [2024-08-10T21:06:59.704Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:06:59.704Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:06:59.704Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:06:59.704Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:06:59.705Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:06:59.705Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:07:00.414Z] [runtime-status] [24508] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:07:00.415Z] [runtime-status] [24508] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:07:00.415Z] [runtime-status] [24508] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:07:00.415Z] [runtime-status] [24508] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:07:00.544Z] [runtime-status] [24508] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:07:00.544Z] [runtime-status] [24508] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:07:00.544Z] [runtime-status] [24508] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:07:00.544Z] [runtime-status] [24508] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:07:00.545Z] [runtime-status] [24508] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:07:00.545Z] [runtime-status] [24508] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:07:00.812Z] [runtime-status] [24508] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:07:00.816Z] [runtime-status] [24508] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:07:00.817Z] [runtime-status] [24508] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_e7b9f4bcc9b4d042.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24508] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_e7b9f4bcc9b4d042.sock"}}
[debug] [2024-08-10T21:07:00.822Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: IDLE"}}
[debug] [2024-08-10T21:07:00.823Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:07:00.823Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: TypeError: translate.translateText is not a function {"user":"Error generating summary: TypeError: translate.translateText is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: TypeError: translate.translateText is not a function"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:229:49 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:229:49","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:229:49"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T21:07:06.304Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 5480.882542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 5480.882542ms"}}
[debug] [2024-08-10T21:07:06.304Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: IDLE"}}
[debug] [2024-08-10T21:07:06.304Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:07:06.304Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:07:06.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:08:00.750Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:08:01.753Z] Validating nodejs source
[debug] [2024-08-10T21:08:02.238Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:08:02.238Z] Building nodejs source
[debug] [2024-08-10T21:08:02.239Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:08:02.239Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:08:02.240Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8040

[debug] [2024-08-10T21:08:02.769Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:08:07.786Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:08:07.786Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: FINISHING"}}
[debug] [2024-08-10T21:08:07.793Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: exited"}}
[debug] [2024-08-10T21:08:07.793Z] [worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-b698f531-a62e-4052-870d-5b1eb22ff606]: FINISHED"}}
[debug] [2024-08-10T21:08:08.793Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:08:08.793Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:08:08.793Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:08:08.793Z"],"workRunningCount":1}
[debug] [2024-08-10T21:08:08.793Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:08:08.793Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:08:08.793Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:08:08.793Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:08:08.794Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:08:08.794Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:08:09.483Z] [runtime-status] [24525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:08:09.484Z] [runtime-status] [24525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:08:09.484Z] [runtime-status] [24525] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:08:09.484Z] [runtime-status] [24525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:08:09.549Z] [runtime-status] [24525] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:08:09.549Z] [runtime-status] [24525] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:08:09.549Z] [runtime-status] [24525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:08:09.549Z] [runtime-status] [24525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:08:09.550Z] [runtime-status] [24525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:08:09.550Z] [runtime-status] [24525] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:08:09.712Z] [runtime-status] [24525] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:08:09.719Z] [runtime-status] [24525] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:08:09.719Z] [runtime-status] [24525] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_399d7d09ab01ac32.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24525] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_399d7d09ab01ac32.sock"}}
[debug] [2024-08-10T21:08:09.815Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: IDLE"}}
[debug] [2024-08-10T21:08:09.816Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:08:09.816Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://translation.googleapis.com/language/translate/v2/"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://translation.googleapis.com/language/translate/v2/\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T21:08:17.117Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 7301.440666ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 7301.440666ms"}}
[debug] [2024-08-10T21:08:17.117Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: IDLE"}}
[debug] [2024-08-10T21:08:17.117Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:08:17.117Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:08:17.118Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:09:40.287Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:09:41.291Z] Validating nodejs source
[debug] [2024-08-10T21:09:41.928Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:09:41.928Z] Building nodejs source
[debug] [2024-08-10T21:09:41.928Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:09:41.930Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:09:41.931Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8296

[debug] [2024-08-10T21:09:42.571Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:09:47.590Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:09:47.590Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: FINISHING"}}
[debug] [2024-08-10T21:09:47.598Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: exited"}}
[debug] [2024-08-10T21:09:47.598Z] [worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-fb97b39e-9d95-48e6-aa98-d3b4356fa09b]: FINISHED"}}
[debug] [2024-08-10T21:11:55.975Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:11:56.978Z] Validating nodejs source
[debug] [2024-08-10T21:11:57.454Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:11:57.454Z] Building nodejs source
[debug] [2024-08-10T21:11:57.454Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:11:57.455Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:11:57.456Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8451

[debug] [2024-08-10T21:11:58.013Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:14:55.037Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:14:56.041Z] Validating nodejs source
[debug] [2024-08-10T21:14:56.518Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:14:56.518Z] Building nodejs source
[debug] [2024-08-10T21:14:56.518Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:14:56.519Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:14:56.519Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8885

[debug] [2024-08-10T21:14:57.067Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:15:04.325Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:15:04.325Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:15:04.325Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:15:04.325Z"],"workRunningCount":1}
[debug] [2024-08-10T21:15:04.325Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:15:04.325Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:15:04.325Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:15:04.325Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:15:04.326Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:15:04.326Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:15:05.017Z] [runtime-status] [24587] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:15:05.017Z] [runtime-status] [24587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:15:05.017Z] [runtime-status] [24587] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:15:05.018Z] [runtime-status] [24587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:15:05.131Z] [runtime-status] [24587] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:15:05.131Z] [runtime-status] [24587] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:15:05.131Z] [runtime-status] [24587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:15:05.132Z] [runtime-status] [24587] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:15:05.133Z] [runtime-status] [24587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:15:05.133Z] [runtime-status] [24587] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:15:05.380Z] [runtime-status] [24587] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:15:05.384Z] [runtime-status] [24587] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:15:05.385Z] [runtime-status] [24587] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_a54874f51152d3a4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24587] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_a54874f51152d3a4.sock"}}
[debug] [2024-08-10T21:15:05.445Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: IDLE"}}
[debug] [2024-08-10T21:15:05.446Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:15:05.446Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error generating summary: TypeError: Cannot read properties of undefined (reading 'translate') {"user":"Error generating summary: TypeError: Cannot read properties of undefined (reading 'translate')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m Error generating summary: TypeError: Cannot read properties of undefined (reading 'translate')"}}
[info] >      at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:308:49 {"user":"    at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:308:49","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js:308:49"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2024-08-10T21:15:11.426Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 5980.719083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 5980.719083ms"}}
[debug] [2024-08-10T21:15:11.427Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: IDLE"}}
[debug] [2024-08-10T21:15:11.427Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:15:11.427Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:15:11.427Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:16:08.084Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:16:09.089Z] Validating nodejs source
[debug] [2024-08-10T21:16:09.627Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:16:09.627Z] Building nodejs source
[debug] [2024-08-10T21:16:09.627Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:16:09.628Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:16:09.629Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8607

[debug] [2024-08-10T21:16:10.235Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:16:15.246Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:16:15.246Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: FINISHING"}}
[debug] [2024-08-10T21:16:15.254Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: exited"}}
[debug] [2024-08-10T21:16:15.254Z] [worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-057c5bf2-2482-4e24-83ee-a60e883483a7]: FINISHED"}}
[debug] [2024-08-10T21:16:16.842Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:16:16.842Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:16:16.842Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:16:16.842Z"],"workRunningCount":1}
[debug] [2024-08-10T21:16:16.842Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:16:16.842Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:16:16.842Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:16:16.842Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:16:16.843Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:16:16.843Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:16:17.548Z] [runtime-status] [24609] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:16:17.548Z] [runtime-status] [24609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:16:17.548Z] [runtime-status] [24609] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:16:17.549Z] [runtime-status] [24609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:16:17.666Z] [runtime-status] [24609] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:16:17.666Z] [runtime-status] [24609] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:16:17.666Z] [runtime-status] [24609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:16:17.667Z] [runtime-status] [24609] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:16:17.668Z] [runtime-status] [24609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:16:17.668Z] [runtime-status] [24609] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:16:17.855Z] [runtime-status] [24609] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:16:17.859Z] [runtime-status] [24609] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:16:17.860Z] [runtime-status] [24609] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_2e6d36dd86a271c8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24609] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_2e6d36dd86a271c8.sock"}}
[debug] [2024-08-10T21:16:17.960Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: IDLE"}}
[debug] [2024-08-10T21:16:17.961Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:16:17.961Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://translation.googleapis.com/language/translate/v2/"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://translation.googleapis.com/language/translate/v2/\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T21:16:24.158Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 6197.414417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 6197.414417ms"}}
[debug] [2024-08-10T21:16:24.158Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: IDLE"}}
[debug] [2024-08-10T21:16:24.158Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:16:24.158Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:16:24.158Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:18:06.434Z] File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/index.js changed, reloading triggers"}}
[debug] [2024-08-10T21:18:07.445Z] Validating nodejs source
[debug] [2024-08-10T21:18:07.943Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "@google/generative-ai": "^0.16.0",
    "@google-cloud/secret-manager": "5.6.0",
    "@google-cloud/translate": "8.3.0",
    "axios": "1.7.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-08-10T21:18:07.943Z] Building nodejs source
[debug] [2024-08-10T21:18:07.943Z] Failed to find version of module node: reached end of search path /Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules
[info] ✔  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:18:07.944Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-08-10T21:18:07.945Z] Found firebase-functions binary at '/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8115

[debug] [2024-08-10T21:18:08.475Z] Got response from /__/functions.yaml {"endpoints":{"generateChallenges":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateChallenges"},"generateSummary":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateSummary"},"evaluateSubmission":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/together-we-can-with-gemini/databases/(default)/documents/challenge_entries/{entryId}"},"retry":false},"labels":{},"entryPoint":"evaluateSubmission"},"translateDocuments":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"translateDocuments"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: generateChallenges, generateSummary, evaluateSubmission, translateDocuments."}}
[debug] [2024-08-10T21:18:13.488Z] [worker-pool] Shutting down IDLE worker (us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-generateSummary)"}}
[debug] [2024-08-10T21:18:13.488Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: FINISHING"}}
[debug] [2024-08-10T21:18:13.496Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: exited"}}
[debug] [2024-08-10T21:18:13.496Z] [worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-99c0a19d-98f7-4843-aa68-f83a10b70fab]: FINISHED"}}
[debug] [2024-08-10T21:34:53.167Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:34:53.167Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:34:53.168Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:34:53.167Z"],"workRunningCount":1}
[debug] [2024-08-10T21:34:53.168Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:34:53.169Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:34:53.170Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:34:53.170Z] [worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-generateSummary: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-08-10T21:34:53.172Z] [worker-pool] addWorker(us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-generateSummary)"}}
[debug] [2024-08-10T21:34:53.172Z] [worker-pool] Adding worker with key us-central1-generateSummary, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-generateSummary, total=1"}}
[debug] [2024-08-10T21:34:53.900Z] [runtime-status] [24808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:34:53.901Z] [runtime-status] [24808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:34:53.901Z] [runtime-status] [24808] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-08-10T21:34:53.902Z] [runtime-status] [24808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:34:54.046Z] [runtime-status] [24808] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-08-10T21:34:54.046Z] [runtime-status] [24808] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-08-10T21:34:54.046Z] [runtime-status] [24808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:34:54.046Z] [runtime-status] [24808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-08-10T21:34:54.048Z] [runtime-status] [24808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-08-10T21:34:54.048Z] [runtime-status] [24808] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.3.0","resolution":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.3.0\",\"resolution\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-08-10T21:34:54.314Z] [runtime-status] [24808] initializeApp(DEFAULT) {"storageBucket":"together-we-can-with-gemini.appspot.com","projectId":"together-we-can-with-gemini"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] initializeApp(DEFAULT) {\"storageBucket\":\"together-we-can-with-gemini.appspot.com\",\"projectId\":\"together-we-can-with-gemini\"}"}}
[debug] [2024-08-10T21:34:54.320Z] [runtime-status] [24808] Functions runtime initialized. {"cwd":"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Functions runtime initialized. {\"cwd\":\"/Users/ajain/Learning/ANDROID/TogetherWeCanWithGemini/functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-08-10T21:34:54.320Z] [runtime-status] [24808] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_5442dd8edd7835da.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[runtime-status] [24808] Listening to port: /var/folders/x8/kr8mxs997kd47zshl70ftbg40000gn/T/fire_emu_5442dd8edd7835da.sock"}}
[debug] [2024-08-10T21:34:54.393Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:34:54.393Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:34:54.393Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://translation.googleapis.com/language/translate/v2/"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Google API requested!\n   - URL: \"https://translation.googleapis.com/language/translate/v2/\"\n   - Be careful, this may be a production service."}}
[debug] [2024-08-10T21:35:03.053Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 8660.645958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 8660.645958ms"}}
[debug] [2024-08-10T21:35:03.054Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:35:03.054Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:35:03.054Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:35:03.054Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:34.627Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:34.627Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:34.628Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:34.627Z"],"workRunningCount":1}
[debug] [2024-08-10T21:35:34.628Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:35:34.630Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:35:34.630Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:35:34.630Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:35:34.631Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:35:43.384Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 8753.21575ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 8753.21575ms"}}
[debug] [2024-08-10T21:35:43.384Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:35:43.385Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:35:43.385Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:35:43.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:44.715Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:44.715Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:44.716Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:44.715Z"],"workRunningCount":1}
[debug] [2024-08-10T21:35:44.716Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:35:44.716Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:35:44.716Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:35:44.716Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:35:44.716Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:35:53.018Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 8302.578917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 8302.578917ms"}}
[debug] [2024-08-10T21:35:53.019Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:35:53.019Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:35:53.019Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:35:53.019Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:55.711Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:55.711Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:35:55.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:35:55.711Z"],"workRunningCount":1}
[debug] [2024-08-10T21:35:55.712Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:35:55.712Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:35:55.712Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:35:55.712Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:35:55.713Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:36:04.122Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 8410.107375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 8410.107375ms"}}
[debug] [2024-08-10T21:36:04.125Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:36:04.125Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:36:04.125Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:36:04.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:06.282Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:06.282Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:06.282Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:06.282Z"],"workRunningCount":1}
[debug] [2024-08-10T21:36:06.282Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:36:06.282Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:36:06.282Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:36:06.282Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:36:06.282Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:36:17.342Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 11060.144625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 11060.144625ms"}}
[debug] [2024-08-10T21:36:17.343Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:36:17.343Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:36:17.343Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:36:17.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:19.115Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:19.115Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:19.115Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:19.115Z"],"workRunningCount":1}
[debug] [2024-08-10T21:36:19.115Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:36:19.116Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:36:19.116Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:36:19.116Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:36:19.116Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:36:26.698Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 7582.243584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 7582.243584ms"}}
[debug] [2024-08-10T21:36:26.699Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:36:26.699Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:36:26.699Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:36:26.699Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:27.749Z] [work-queue] {"queuedWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:27.749Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T21:36:27.749Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/together-we-can-with-gemini/us-central1/generateSummary-2024-08-10T21:36:27.749Z"],"workRunningCount":1}
[debug] [2024-08-10T21:36:27.749Z] Accepted request GET /together-we-can-with-gemini/us-central1/generateSummary --> us-central1-generateSummary
[debug] [2024-08-10T21:36:27.749Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-08-10T21:36:27.749Z] [functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/together-we-can-with-gemini/us-central1/generateSummary, mapping to path=/"}}
[debug] [2024-08-10T21:36:27.750Z] [worker-pool] submitRequest(triggerId=us-central1-generateSummary) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-generateSummary)"}}
[info] i  functions: Beginning execution of "us-central1-generateSummary" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Beginning execution of \"us-central1-generateSummary\""}}
[debug] [2024-08-10T21:36:27.750Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: BUSY"}}
[debug] [2024-08-10T21:36:36.527Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-generateSummary" in 8777.802917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finished \"us-central1-generateSummary\" in 8777.802917ms"}}
[debug] [2024-08-10T21:36:36.528Z] [worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"[worker-us-central1-generateSummary-621a60d4-e023-4adb-ac89-752bf8113ccd]: IDLE"}}
[debug] [2024-08-10T21:36:36.528Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-08-10T21:36:36.528Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-generateSummary"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-08-10T21:36:36.528Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-08-10T23:01:28.793Z] Received signal SIGHUP 1
[info]  
[info] i  emulators: Received SIGHUP for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGHUP signal again to stop right now. 
[debug] [2024-08-10T23:01:28.912Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.916Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.917Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.918Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.919Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.919Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.920Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.920Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.921Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.922Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.922Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.926Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.927Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.927Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.928Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.928Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.928Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-08-10T23:01:28.929Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:952:11)
    at Socket._write (node:net:964:8)
    at writeOrBuffer (node:internal/streams/writable:556:12)
    at _write (node:internal/streams/writable:490:10)
    at Writable.write (node:internal/streams/writable:494:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
